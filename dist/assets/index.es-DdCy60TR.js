const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-B9PYo1R2.js","assets/index-fFHDa7eL.js","assets/index-DZ0fb_Ol.css"])))=>i.map(i=>d[i]);
import{d0 as xt,a5 as ov,_ as uv}from"./index-fFHDa7eL.js";import{e as du,i as Wo,s as Go,a as cv,f as hv,p as fv,b as lv,K as pv,k as dv,c as gv,_ as as,r as vv,d as Rn,g as _v,A as On,Q as mv,w as gu,O as es,o as et,h as wv,t as vu,u as zo}from"./index.es-DFcEhUIm.js";var Sn={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */var yv=Sn.exports,Ko;function Pv(){return Ko||(Ko=1,function(y,r){(function(){var i,c="4.17.21",d=200,C="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",I="Expected a function",O="Invalid `variable` option passed into `_.template`",L="__lodash_hash_undefined__",ne=500,pe="__lodash_placeholder__",de=1,se=2,ce=4,nt=1,Q=2,_e=1,at=2,Tn=4,Je=8,Ot=16,He=32,_t=64,Ye=128,St=256,Ne=512,Rr=30,Tr="...",xe=800,Dr=16,Bt=1,v=2,A=3,$=1/0,G=9007199254740991,j=17976931348623157e292,q=NaN,me=4294967295,sn=me-1,Dn=me>>>1,ae=[["ary",Ye],["bind",_e],["bindKey",at],["curry",Je],["curryRight",Ot],["flip",Ne],["partial",He],["partialRight",_t],["rearg",St]],Ce="[object Arguments]",Ln="[object Array]",Pu="[object AsyncFunction]",an="[object Boolean]",on="[object Date]",Cu="[object DOMException]",$n="[object Error]",Hn="[object Function]",hs="[object GeneratorFunction]",Ze="[object Map]",un="[object Number]",Au="[object Null]",ot="[object Object]",fs="[object Promise]",Iu="[object Proxy]",cn="[object RegExp]",Xe="[object Set]",hn="[object String]",Nn="[object Symbol]",Eu="[object Undefined]",fn="[object WeakMap]",bu="[object WeakSet]",ln="[object ArrayBuffer]",Ft="[object DataView]",Lr="[object Float32Array]",$r="[object Float64Array]",Hr="[object Int8Array]",Nr="[object Int16Array]",Mr="[object Int32Array]",qr="[object Uint8Array]",Ur="[object Uint8ClampedArray]",Br="[object Uint16Array]",Fr="[object Uint32Array]",xu=/\b__p \+= '';/g,Ou=/\b(__p \+=) '' \+/g,Su=/(__e\(.*?\)|\b__t\)) \+\n'';/g,ls=/&(?:amp|lt|gt|quot|#39);/g,ps=/[&<>"']/g,Ru=RegExp(ls.source),Tu=RegExp(ps.source),Du=/<%-([\s\S]+?)%>/g,Lu=/<%([\s\S]+?)%>/g,ds=/<%=([\s\S]+?)%>/g,$u=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Hu=/^\w*$/,Nu=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Wr=/[\\^$.*+?()[\]{}|]/g,Mu=RegExp(Wr.source),Gr=/^\s+/,qu=/\s/,Uu=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Bu=/\{\n\/\* \[wrapped with (.+)\] \*/,Fu=/,? & /,Wu=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Gu=/[()=,{}\[\]\/\s]/,zu=/\\(\\)?/g,Ku=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,gs=/\w*$/,Ju=/^[-+]0x[0-9a-f]+$/i,Yu=/^0b[01]+$/i,Zu=/^\[object .+?Constructor\]$/,Xu=/^0o[0-7]+$/i,Qu=/^(?:0|[1-9]\d*)$/,ju=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Mn=/($^)/,ku=/['\n\r\u2028\u2029\\]/g,qn="\\ud800-\\udfff",Vu="\\u0300-\\u036f",ec="\\ufe20-\\ufe2f",tc="\\u20d0-\\u20ff",vs=Vu+ec+tc,_s="\\u2700-\\u27bf",ms="a-z\\xdf-\\xf6\\xf8-\\xff",nc="\\xac\\xb1\\xd7\\xf7",rc="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",ic="\\u2000-\\u206f",sc=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",ws="A-Z\\xc0-\\xd6\\xd8-\\xde",ys="\\ufe0e\\ufe0f",Ps=nc+rc+ic+sc,zr="['’]",ac="["+qn+"]",Cs="["+Ps+"]",Un="["+vs+"]",As="\\d+",oc="["+_s+"]",Is="["+ms+"]",Es="[^"+qn+Ps+As+_s+ms+ws+"]",Kr="\\ud83c[\\udffb-\\udfff]",uc="(?:"+Un+"|"+Kr+")",bs="[^"+qn+"]",Jr="(?:\\ud83c[\\udde6-\\uddff]){2}",Yr="[\\ud800-\\udbff][\\udc00-\\udfff]",Wt="["+ws+"]",xs="\\u200d",Os="(?:"+Is+"|"+Es+")",cc="(?:"+Wt+"|"+Es+")",Ss="(?:"+zr+"(?:d|ll|m|re|s|t|ve))?",Rs="(?:"+zr+"(?:D|LL|M|RE|S|T|VE))?",Ts=uc+"?",Ds="["+ys+"]?",hc="(?:"+xs+"(?:"+[bs,Jr,Yr].join("|")+")"+Ds+Ts+")*",fc="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",lc="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Ls=Ds+Ts+hc,pc="(?:"+[oc,Jr,Yr].join("|")+")"+Ls,dc="(?:"+[bs+Un+"?",Un,Jr,Yr,ac].join("|")+")",gc=RegExp(zr,"g"),vc=RegExp(Un,"g"),Zr=RegExp(Kr+"(?="+Kr+")|"+dc+Ls,"g"),_c=RegExp([Wt+"?"+Is+"+"+Ss+"(?="+[Cs,Wt,"$"].join("|")+")",cc+"+"+Rs+"(?="+[Cs,Wt+Os,"$"].join("|")+")",Wt+"?"+Os+"+"+Ss,Wt+"+"+Rs,lc,fc,As,pc].join("|"),"g"),mc=RegExp("["+xs+qn+vs+ys+"]"),wc=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,yc=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Pc=-1,k={};k[Lr]=k[$r]=k[Hr]=k[Nr]=k[Mr]=k[qr]=k[Ur]=k[Br]=k[Fr]=!0,k[Ce]=k[Ln]=k[ln]=k[an]=k[Ft]=k[on]=k[$n]=k[Hn]=k[Ze]=k[un]=k[ot]=k[cn]=k[Xe]=k[hn]=k[fn]=!1;var X={};X[Ce]=X[Ln]=X[ln]=X[Ft]=X[an]=X[on]=X[Lr]=X[$r]=X[Hr]=X[Nr]=X[Mr]=X[Ze]=X[un]=X[ot]=X[cn]=X[Xe]=X[hn]=X[Nn]=X[qr]=X[Ur]=X[Br]=X[Fr]=!0,X[$n]=X[Hn]=X[fn]=!1;var Cc={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},Ac={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Ic={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Ec={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},bc=parseFloat,xc=parseInt,$s=typeof xt=="object"&&xt&&xt.Object===Object&&xt,Oc=typeof self=="object"&&self&&self.Object===Object&&self,fe=$s||Oc||Function("return this")(),Xr=r&&!r.nodeType&&r,Rt=Xr&&!0&&y&&!y.nodeType&&y,Hs=Rt&&Rt.exports===Xr,Qr=Hs&&$s.process,Me=function(){try{var l=Rt&&Rt.require&&Rt.require("util").types;return l||Qr&&Qr.binding&&Qr.binding("util")}catch{}}(),Ns=Me&&Me.isArrayBuffer,Ms=Me&&Me.isDate,qs=Me&&Me.isMap,Us=Me&&Me.isRegExp,Bs=Me&&Me.isSet,Fs=Me&&Me.isTypedArray;function Oe(l,_,g){switch(g.length){case 0:return l.call(_);case 1:return l.call(_,g[0]);case 2:return l.call(_,g[0],g[1]);case 3:return l.call(_,g[0],g[1],g[2])}return l.apply(_,g)}function Sc(l,_,g,b){for(var D=-1,K=l==null?0:l.length;++D<K;){var oe=l[D];_(b,oe,g(oe),l)}return b}function qe(l,_){for(var g=-1,b=l==null?0:l.length;++g<b&&_(l[g],g,l)!==!1;);return l}function Rc(l,_){for(var g=l==null?0:l.length;g--&&_(l[g],g,l)!==!1;);return l}function Ws(l,_){for(var g=-1,b=l==null?0:l.length;++g<b;)if(!_(l[g],g,l))return!1;return!0}function mt(l,_){for(var g=-1,b=l==null?0:l.length,D=0,K=[];++g<b;){var oe=l[g];_(oe,g,l)&&(K[D++]=oe)}return K}function Bn(l,_){var g=l==null?0:l.length;return!!g&&Gt(l,_,0)>-1}function jr(l,_,g){for(var b=-1,D=l==null?0:l.length;++b<D;)if(g(_,l[b]))return!0;return!1}function V(l,_){for(var g=-1,b=l==null?0:l.length,D=Array(b);++g<b;)D[g]=_(l[g],g,l);return D}function wt(l,_){for(var g=-1,b=_.length,D=l.length;++g<b;)l[D+g]=_[g];return l}function kr(l,_,g,b){var D=-1,K=l==null?0:l.length;for(b&&K&&(g=l[++D]);++D<K;)g=_(g,l[D],D,l);return g}function Tc(l,_,g,b){var D=l==null?0:l.length;for(b&&D&&(g=l[--D]);D--;)g=_(g,l[D],D,l);return g}function Vr(l,_){for(var g=-1,b=l==null?0:l.length;++g<b;)if(_(l[g],g,l))return!0;return!1}var Dc=ei("length");function Lc(l){return l.split("")}function $c(l){return l.match(Wu)||[]}function Gs(l,_,g){var b;return g(l,function(D,K,oe){if(_(D,K,oe))return b=K,!1}),b}function Fn(l,_,g,b){for(var D=l.length,K=g+(b?1:-1);b?K--:++K<D;)if(_(l[K],K,l))return K;return-1}function Gt(l,_,g){return _===_?Jc(l,_,g):Fn(l,zs,g)}function Hc(l,_,g,b){for(var D=g-1,K=l.length;++D<K;)if(b(l[D],_))return D;return-1}function zs(l){return l!==l}function Ks(l,_){var g=l==null?0:l.length;return g?ni(l,_)/g:q}function ei(l){return function(_){return _==null?i:_[l]}}function ti(l){return function(_){return l==null?i:l[_]}}function Js(l,_,g,b,D){return D(l,function(K,oe,Z){g=b?(b=!1,K):_(g,K,oe,Z)}),g}function Nc(l,_){var g=l.length;for(l.sort(_);g--;)l[g]=l[g].value;return l}function ni(l,_){for(var g,b=-1,D=l.length;++b<D;){var K=_(l[b]);K!==i&&(g=g===i?K:g+K)}return g}function ri(l,_){for(var g=-1,b=Array(l);++g<l;)b[g]=_(g);return b}function Mc(l,_){return V(_,function(g){return[g,l[g]]})}function Ys(l){return l&&l.slice(0,js(l)+1).replace(Gr,"")}function Se(l){return function(_){return l(_)}}function ii(l,_){return V(_,function(g){return l[g]})}function pn(l,_){return l.has(_)}function Zs(l,_){for(var g=-1,b=l.length;++g<b&&Gt(_,l[g],0)>-1;);return g}function Xs(l,_){for(var g=l.length;g--&&Gt(_,l[g],0)>-1;);return g}function qc(l,_){for(var g=l.length,b=0;g--;)l[g]===_&&++b;return b}var Uc=ti(Cc),Bc=ti(Ac);function Fc(l){return"\\"+Ec[l]}function Wc(l,_){return l==null?i:l[_]}function zt(l){return mc.test(l)}function Gc(l){return wc.test(l)}function zc(l){for(var _,g=[];!(_=l.next()).done;)g.push(_.value);return g}function si(l){var _=-1,g=Array(l.size);return l.forEach(function(b,D){g[++_]=[D,b]}),g}function Qs(l,_){return function(g){return l(_(g))}}function yt(l,_){for(var g=-1,b=l.length,D=0,K=[];++g<b;){var oe=l[g];(oe===_||oe===pe)&&(l[g]=pe,K[D++]=g)}return K}function Wn(l){var _=-1,g=Array(l.size);return l.forEach(function(b){g[++_]=b}),g}function Kc(l){var _=-1,g=Array(l.size);return l.forEach(function(b){g[++_]=[b,b]}),g}function Jc(l,_,g){for(var b=g-1,D=l.length;++b<D;)if(l[b]===_)return b;return-1}function Yc(l,_,g){for(var b=g+1;b--;)if(l[b]===_)return b;return b}function Kt(l){return zt(l)?Xc(l):Dc(l)}function Qe(l){return zt(l)?Qc(l):Lc(l)}function js(l){for(var _=l.length;_--&&qu.test(l.charAt(_)););return _}var Zc=ti(Ic);function Xc(l){for(var _=Zr.lastIndex=0;Zr.test(l);)++_;return _}function Qc(l){return l.match(Zr)||[]}function jc(l){return l.match(_c)||[]}var kc=function l(_){_=_==null?fe:Jt.defaults(fe.Object(),_,Jt.pick(fe,yc));var g=_.Array,b=_.Date,D=_.Error,K=_.Function,oe=_.Math,Z=_.Object,ai=_.RegExp,Vc=_.String,Ue=_.TypeError,Gn=g.prototype,eh=K.prototype,Yt=Z.prototype,zn=_["__core-js_shared__"],Kn=eh.toString,Y=Yt.hasOwnProperty,th=0,ks=function(){var e=/[^.]+$/.exec(zn&&zn.keys&&zn.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Jn=Yt.toString,nh=Kn.call(Z),rh=fe._,ih=ai("^"+Kn.call(Y).replace(Wr,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Yn=Hs?_.Buffer:i,Pt=_.Symbol,Zn=_.Uint8Array,Vs=Yn?Yn.allocUnsafe:i,Xn=Qs(Z.getPrototypeOf,Z),ea=Z.create,ta=Yt.propertyIsEnumerable,Qn=Gn.splice,na=Pt?Pt.isConcatSpreadable:i,dn=Pt?Pt.iterator:i,Tt=Pt?Pt.toStringTag:i,jn=function(){try{var e=Nt(Z,"defineProperty");return e({},"",{}),e}catch{}}(),sh=_.clearTimeout!==fe.clearTimeout&&_.clearTimeout,ah=b&&b.now!==fe.Date.now&&b.now,oh=_.setTimeout!==fe.setTimeout&&_.setTimeout,kn=oe.ceil,Vn=oe.floor,oi=Z.getOwnPropertySymbols,uh=Yn?Yn.isBuffer:i,ra=_.isFinite,ch=Gn.join,hh=Qs(Z.keys,Z),ue=oe.max,ge=oe.min,fh=b.now,lh=_.parseInt,ia=oe.random,ph=Gn.reverse,ui=Nt(_,"DataView"),gn=Nt(_,"Map"),ci=Nt(_,"Promise"),Zt=Nt(_,"Set"),vn=Nt(_,"WeakMap"),_n=Nt(Z,"create"),er=vn&&new vn,Xt={},dh=Mt(ui),gh=Mt(gn),vh=Mt(ci),_h=Mt(Zt),mh=Mt(vn),tr=Pt?Pt.prototype:i,mn=tr?tr.valueOf:i,sa=tr?tr.toString:i;function o(e){if(te(e)&&!H(e)&&!(e instanceof F)){if(e instanceof Be)return e;if(Y.call(e,"__wrapped__"))return ao(e)}return new Be(e)}var Qt=function(){function e(){}return function(t){if(!ee(t))return{};if(ea)return ea(t);e.prototype=t;var n=new e;return e.prototype=i,n}}();function nr(){}function Be(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=i}o.templateSettings={escape:Du,evaluate:Lu,interpolate:ds,variable:"",imports:{_:o}},o.prototype=nr.prototype,o.prototype.constructor=o,Be.prototype=Qt(nr.prototype),Be.prototype.constructor=Be;function F(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=me,this.__views__=[]}function wh(){var e=new F(this.__wrapped__);return e.__actions__=Ae(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Ae(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Ae(this.__views__),e}function yh(){if(this.__filtered__){var e=new F(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e}function Ph(){var e=this.__wrapped__.value(),t=this.__dir__,n=H(e),s=t<0,a=n?e.length:0,u=$f(0,a,this.__views__),h=u.start,f=u.end,p=f-h,m=s?f:h-1,w=this.__iteratees__,P=w.length,E=0,x=ge(p,this.__takeCount__);if(!n||!s&&a==p&&x==p)return Sa(e,this.__actions__);var R=[];e:for(;p--&&E<x;){m+=t;for(var M=-1,T=e[m];++M<P;){var B=w[M],W=B.iteratee,De=B.type,Pe=W(T);if(De==v)T=Pe;else if(!Pe){if(De==Bt)continue e;break e}}R[E++]=T}return R}F.prototype=Qt(nr.prototype),F.prototype.constructor=F;function Dt(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var s=e[t];this.set(s[0],s[1])}}function Ch(){this.__data__=_n?_n(null):{},this.size=0}function Ah(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}function Ih(e){var t=this.__data__;if(_n){var n=t[e];return n===L?i:n}return Y.call(t,e)?t[e]:i}function Eh(e){var t=this.__data__;return _n?t[e]!==i:Y.call(t,e)}function bh(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=_n&&t===i?L:t,this}Dt.prototype.clear=Ch,Dt.prototype.delete=Ah,Dt.prototype.get=Ih,Dt.prototype.has=Eh,Dt.prototype.set=bh;function ut(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var s=e[t];this.set(s[0],s[1])}}function xh(){this.__data__=[],this.size=0}function Oh(e){var t=this.__data__,n=rr(t,e);if(n<0)return!1;var s=t.length-1;return n==s?t.pop():Qn.call(t,n,1),--this.size,!0}function Sh(e){var t=this.__data__,n=rr(t,e);return n<0?i:t[n][1]}function Rh(e){return rr(this.__data__,e)>-1}function Th(e,t){var n=this.__data__,s=rr(n,e);return s<0?(++this.size,n.push([e,t])):n[s][1]=t,this}ut.prototype.clear=xh,ut.prototype.delete=Oh,ut.prototype.get=Sh,ut.prototype.has=Rh,ut.prototype.set=Th;function ct(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var s=e[t];this.set(s[0],s[1])}}function Dh(){this.size=0,this.__data__={hash:new Dt,map:new(gn||ut),string:new Dt}}function Lh(e){var t=gr(this,e).delete(e);return this.size-=t?1:0,t}function $h(e){return gr(this,e).get(e)}function Hh(e){return gr(this,e).has(e)}function Nh(e,t){var n=gr(this,e),s=n.size;return n.set(e,t),this.size+=n.size==s?0:1,this}ct.prototype.clear=Dh,ct.prototype.delete=Lh,ct.prototype.get=$h,ct.prototype.has=Hh,ct.prototype.set=Nh;function Lt(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new ct;++t<n;)this.add(e[t])}function Mh(e){return this.__data__.set(e,L),this}function qh(e){return this.__data__.has(e)}Lt.prototype.add=Lt.prototype.push=Mh,Lt.prototype.has=qh;function je(e){var t=this.__data__=new ut(e);this.size=t.size}function Uh(){this.__data__=new ut,this.size=0}function Bh(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}function Fh(e){return this.__data__.get(e)}function Wh(e){return this.__data__.has(e)}function Gh(e,t){var n=this.__data__;if(n instanceof ut){var s=n.__data__;if(!gn||s.length<d-1)return s.push([e,t]),this.size=++n.size,this;n=this.__data__=new ct(s)}return n.set(e,t),this.size=n.size,this}je.prototype.clear=Uh,je.prototype.delete=Bh,je.prototype.get=Fh,je.prototype.has=Wh,je.prototype.set=Gh;function aa(e,t){var n=H(e),s=!n&&qt(e),a=!n&&!s&&bt(e),u=!n&&!s&&!a&&en(e),h=n||s||a||u,f=h?ri(e.length,Vc):[],p=f.length;for(var m in e)(t||Y.call(e,m))&&!(h&&(m=="length"||a&&(m=="offset"||m=="parent")||u&&(m=="buffer"||m=="byteLength"||m=="byteOffset")||pt(m,p)))&&f.push(m);return f}function oa(e){var t=e.length;return t?e[yi(0,t-1)]:i}function zh(e,t){return vr(Ae(e),$t(t,0,e.length))}function Kh(e){return vr(Ae(e))}function hi(e,t,n){(n!==i&&!ke(e[t],n)||n===i&&!(t in e))&&ht(e,t,n)}function wn(e,t,n){var s=e[t];(!(Y.call(e,t)&&ke(s,n))||n===i&&!(t in e))&&ht(e,t,n)}function rr(e,t){for(var n=e.length;n--;)if(ke(e[n][0],t))return n;return-1}function Jh(e,t,n,s){return Ct(e,function(a,u,h){t(s,a,n(a),h)}),s}function ua(e,t){return e&&it(t,he(t),e)}function Yh(e,t){return e&&it(t,Ee(t),e)}function ht(e,t,n){t=="__proto__"&&jn?jn(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function fi(e,t){for(var n=-1,s=t.length,a=g(s),u=e==null;++n<s;)a[n]=u?i:Ki(e,t[n]);return a}function $t(e,t,n){return e===e&&(n!==i&&(e=e<=n?e:n),t!==i&&(e=e>=t?e:t)),e}function Fe(e,t,n,s,a,u){var h,f=t&de,p=t&se,m=t&ce;if(n&&(h=a?n(e,s,a,u):n(e)),h!==i)return h;if(!ee(e))return e;var w=H(e);if(w){if(h=Nf(e),!f)return Ae(e,h)}else{var P=ve(e),E=P==Hn||P==hs;if(bt(e))return Da(e,f);if(P==ot||P==Ce||E&&!a){if(h=p||E?{}:ja(e),!f)return p?Ef(e,Yh(h,e)):If(e,ua(h,e))}else{if(!X[P])return a?e:{};h=Mf(e,P,f)}}u||(u=new je);var x=u.get(e);if(x)return x;u.set(e,h),xo(e)?e.forEach(function(T){h.add(Fe(T,t,n,T,e,u))}):Eo(e)&&e.forEach(function(T,B){h.set(B,Fe(T,t,n,B,e,u))});var R=m?p?Ti:Ri:p?Ee:he,M=w?i:R(e);return qe(M||e,function(T,B){M&&(B=T,T=e[B]),wn(h,B,Fe(T,t,n,B,e,u))}),h}function Zh(e){var t=he(e);return function(n){return ca(n,e,t)}}function ca(e,t,n){var s=n.length;if(e==null)return!s;for(e=Z(e);s--;){var a=n[s],u=t[a],h=e[a];if(h===i&&!(a in e)||!u(h))return!1}return!0}function ha(e,t,n){if(typeof e!="function")throw new Ue(I);return bn(function(){e.apply(i,n)},t)}function yn(e,t,n,s){var a=-1,u=Bn,h=!0,f=e.length,p=[],m=t.length;if(!f)return p;n&&(t=V(t,Se(n))),s?(u=jr,h=!1):t.length>=d&&(u=pn,h=!1,t=new Lt(t));e:for(;++a<f;){var w=e[a],P=n==null?w:n(w);if(w=s||w!==0?w:0,h&&P===P){for(var E=m;E--;)if(t[E]===P)continue e;p.push(w)}else u(t,P,s)||p.push(w)}return p}var Ct=Ma(rt),fa=Ma(pi,!0);function Xh(e,t){var n=!0;return Ct(e,function(s,a,u){return n=!!t(s,a,u),n}),n}function ir(e,t,n){for(var s=-1,a=e.length;++s<a;){var u=e[s],h=t(u);if(h!=null&&(f===i?h===h&&!Te(h):n(h,f)))var f=h,p=u}return p}function Qh(e,t,n,s){var a=e.length;for(n=N(n),n<0&&(n=-n>a?0:a+n),s=s===i||s>a?a:N(s),s<0&&(s+=a),s=n>s?0:So(s);n<s;)e[n++]=t;return e}function la(e,t){var n=[];return Ct(e,function(s,a,u){t(s,a,u)&&n.push(s)}),n}function le(e,t,n,s,a){var u=-1,h=e.length;for(n||(n=Uf),a||(a=[]);++u<h;){var f=e[u];t>0&&n(f)?t>1?le(f,t-1,n,s,a):wt(a,f):s||(a[a.length]=f)}return a}var li=qa(),pa=qa(!0);function rt(e,t){return e&&li(e,t,he)}function pi(e,t){return e&&pa(e,t,he)}function sr(e,t){return mt(t,function(n){return dt(e[n])})}function Ht(e,t){t=It(t,e);for(var n=0,s=t.length;e!=null&&n<s;)e=e[st(t[n++])];return n&&n==s?e:i}function da(e,t,n){var s=t(e);return H(e)?s:wt(s,n(e))}function we(e){return e==null?e===i?Eu:Au:Tt&&Tt in Z(e)?Lf(e):Jf(e)}function di(e,t){return e>t}function jh(e,t){return e!=null&&Y.call(e,t)}function kh(e,t){return e!=null&&t in Z(e)}function Vh(e,t,n){return e>=ge(t,n)&&e<ue(t,n)}function gi(e,t,n){for(var s=n?jr:Bn,a=e[0].length,u=e.length,h=u,f=g(u),p=1/0,m=[];h--;){var w=e[h];h&&t&&(w=V(w,Se(t))),p=ge(w.length,p),f[h]=!n&&(t||a>=120&&w.length>=120)?new Lt(h&&w):i}w=e[0];var P=-1,E=f[0];e:for(;++P<a&&m.length<p;){var x=w[P],R=t?t(x):x;if(x=n||x!==0?x:0,!(E?pn(E,R):s(m,R,n))){for(h=u;--h;){var M=f[h];if(!(M?pn(M,R):s(e[h],R,n)))continue e}E&&E.push(R),m.push(x)}}return m}function ef(e,t,n,s){return rt(e,function(a,u,h){t(s,n(a),u,h)}),s}function Pn(e,t,n){t=It(t,e),e=to(e,t);var s=e==null?e:e[st(Ge(t))];return s==null?i:Oe(s,e,n)}function ga(e){return te(e)&&we(e)==Ce}function tf(e){return te(e)&&we(e)==ln}function nf(e){return te(e)&&we(e)==on}function Cn(e,t,n,s,a){return e===t?!0:e==null||t==null||!te(e)&&!te(t)?e!==e&&t!==t:rf(e,t,n,s,Cn,a)}function rf(e,t,n,s,a,u){var h=H(e),f=H(t),p=h?Ln:ve(e),m=f?Ln:ve(t);p=p==Ce?ot:p,m=m==Ce?ot:m;var w=p==ot,P=m==ot,E=p==m;if(E&&bt(e)){if(!bt(t))return!1;h=!0,w=!1}if(E&&!w)return u||(u=new je),h||en(e)?Za(e,t,n,s,a,u):Tf(e,t,p,n,s,a,u);if(!(n&nt)){var x=w&&Y.call(e,"__wrapped__"),R=P&&Y.call(t,"__wrapped__");if(x||R){var M=x?e.value():e,T=R?t.value():t;return u||(u=new je),a(M,T,n,s,u)}}return E?(u||(u=new je),Df(e,t,n,s,a,u)):!1}function sf(e){return te(e)&&ve(e)==Ze}function vi(e,t,n,s){var a=n.length,u=a,h=!s;if(e==null)return!u;for(e=Z(e);a--;){var f=n[a];if(h&&f[2]?f[1]!==e[f[0]]:!(f[0]in e))return!1}for(;++a<u;){f=n[a];var p=f[0],m=e[p],w=f[1];if(h&&f[2]){if(m===i&&!(p in e))return!1}else{var P=new je;if(s)var E=s(m,w,p,e,t,P);if(!(E===i?Cn(w,m,nt|Q,s,P):E))return!1}}return!0}function va(e){if(!ee(e)||Ff(e))return!1;var t=dt(e)?ih:Zu;return t.test(Mt(e))}function af(e){return te(e)&&we(e)==cn}function of(e){return te(e)&&ve(e)==Xe}function uf(e){return te(e)&&Cr(e.length)&&!!k[we(e)]}function _a(e){return typeof e=="function"?e:e==null?be:typeof e=="object"?H(e)?ya(e[0],e[1]):wa(e):Bo(e)}function _i(e){if(!En(e))return hh(e);var t=[];for(var n in Z(e))Y.call(e,n)&&n!="constructor"&&t.push(n);return t}function cf(e){if(!ee(e))return Kf(e);var t=En(e),n=[];for(var s in e)s=="constructor"&&(t||!Y.call(e,s))||n.push(s);return n}function mi(e,t){return e<t}function ma(e,t){var n=-1,s=Ie(e)?g(e.length):[];return Ct(e,function(a,u,h){s[++n]=t(a,u,h)}),s}function wa(e){var t=Li(e);return t.length==1&&t[0][2]?Va(t[0][0],t[0][1]):function(n){return n===e||vi(n,e,t)}}function ya(e,t){return Hi(e)&&ka(t)?Va(st(e),t):function(n){var s=Ki(n,e);return s===i&&s===t?Ji(n,e):Cn(t,s,nt|Q)}}function ar(e,t,n,s,a){e!==t&&li(t,function(u,h){if(a||(a=new je),ee(u))hf(e,t,h,n,ar,s,a);else{var f=s?s(Mi(e,h),u,h+"",e,t,a):i;f===i&&(f=u),hi(e,h,f)}},Ee)}function hf(e,t,n,s,a,u,h){var f=Mi(e,n),p=Mi(t,n),m=h.get(p);if(m){hi(e,n,m);return}var w=u?u(f,p,n+"",e,t,h):i,P=w===i;if(P){var E=H(p),x=!E&&bt(p),R=!E&&!x&&en(p);w=p,E||x||R?H(f)?w=f:re(f)?w=Ae(f):x?(P=!1,w=Da(p,!0)):R?(P=!1,w=La(p,!0)):w=[]:xn(p)||qt(p)?(w=f,qt(f)?w=Ro(f):(!ee(f)||dt(f))&&(w=ja(p))):P=!1}P&&(h.set(p,w),a(w,p,s,u,h),h.delete(p)),hi(e,n,w)}function Pa(e,t){var n=e.length;if(n)return t+=t<0?n:0,pt(t,n)?e[t]:i}function Ca(e,t,n){t.length?t=V(t,function(u){return H(u)?function(h){return Ht(h,u.length===1?u[0]:u)}:u}):t=[be];var s=-1;t=V(t,Se(S()));var a=ma(e,function(u,h,f){var p=V(t,function(m){return m(u)});return{criteria:p,index:++s,value:u}});return Nc(a,function(u,h){return Af(u,h,n)})}function ff(e,t){return Aa(e,t,function(n,s){return Ji(e,s)})}function Aa(e,t,n){for(var s=-1,a=t.length,u={};++s<a;){var h=t[s],f=Ht(e,h);n(f,h)&&An(u,It(h,e),f)}return u}function lf(e){return function(t){return Ht(t,e)}}function wi(e,t,n,s){var a=s?Hc:Gt,u=-1,h=t.length,f=e;for(e===t&&(t=Ae(t)),n&&(f=V(e,Se(n)));++u<h;)for(var p=0,m=t[u],w=n?n(m):m;(p=a(f,w,p,s))>-1;)f!==e&&Qn.call(f,p,1),Qn.call(e,p,1);return e}function Ia(e,t){for(var n=e?t.length:0,s=n-1;n--;){var a=t[n];if(n==s||a!==u){var u=a;pt(a)?Qn.call(e,a,1):Ai(e,a)}}return e}function yi(e,t){return e+Vn(ia()*(t-e+1))}function pf(e,t,n,s){for(var a=-1,u=ue(kn((t-e)/(n||1)),0),h=g(u);u--;)h[s?u:++a]=e,e+=n;return h}function Pi(e,t){var n="";if(!e||t<1||t>G)return n;do t%2&&(n+=e),t=Vn(t/2),t&&(e+=e);while(t);return n}function U(e,t){return qi(eo(e,t,be),e+"")}function df(e){return oa(tn(e))}function gf(e,t){var n=tn(e);return vr(n,$t(t,0,n.length))}function An(e,t,n,s){if(!ee(e))return e;t=It(t,e);for(var a=-1,u=t.length,h=u-1,f=e;f!=null&&++a<u;){var p=st(t[a]),m=n;if(p==="__proto__"||p==="constructor"||p==="prototype")return e;if(a!=h){var w=f[p];m=s?s(w,p,f):i,m===i&&(m=ee(w)?w:pt(t[a+1])?[]:{})}wn(f,p,m),f=f[p]}return e}var Ea=er?function(e,t){return er.set(e,t),e}:be,vf=jn?function(e,t){return jn(e,"toString",{configurable:!0,enumerable:!1,value:Zi(t),writable:!0})}:be;function _f(e){return vr(tn(e))}function We(e,t,n){var s=-1,a=e.length;t<0&&(t=-t>a?0:a+t),n=n>a?a:n,n<0&&(n+=a),a=t>n?0:n-t>>>0,t>>>=0;for(var u=g(a);++s<a;)u[s]=e[s+t];return u}function mf(e,t){var n;return Ct(e,function(s,a,u){return n=t(s,a,u),!n}),!!n}function or(e,t,n){var s=0,a=e==null?s:e.length;if(typeof t=="number"&&t===t&&a<=Dn){for(;s<a;){var u=s+a>>>1,h=e[u];h!==null&&!Te(h)&&(n?h<=t:h<t)?s=u+1:a=u}return a}return Ci(e,t,be,n)}function Ci(e,t,n,s){var a=0,u=e==null?0:e.length;if(u===0)return 0;t=n(t);for(var h=t!==t,f=t===null,p=Te(t),m=t===i;a<u;){var w=Vn((a+u)/2),P=n(e[w]),E=P!==i,x=P===null,R=P===P,M=Te(P);if(h)var T=s||R;else m?T=R&&(s||E):f?T=R&&E&&(s||!x):p?T=R&&E&&!x&&(s||!M):x||M?T=!1:T=s?P<=t:P<t;T?a=w+1:u=w}return ge(u,sn)}function ba(e,t){for(var n=-1,s=e.length,a=0,u=[];++n<s;){var h=e[n],f=t?t(h):h;if(!n||!ke(f,p)){var p=f;u[a++]=h===0?0:h}}return u}function xa(e){return typeof e=="number"?e:Te(e)?q:+e}function Re(e){if(typeof e=="string")return e;if(H(e))return V(e,Re)+"";if(Te(e))return sa?sa.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}function At(e,t,n){var s=-1,a=Bn,u=e.length,h=!0,f=[],p=f;if(n)h=!1,a=jr;else if(u>=d){var m=t?null:Sf(e);if(m)return Wn(m);h=!1,a=pn,p=new Lt}else p=t?[]:f;e:for(;++s<u;){var w=e[s],P=t?t(w):w;if(w=n||w!==0?w:0,h&&P===P){for(var E=p.length;E--;)if(p[E]===P)continue e;t&&p.push(P),f.push(w)}else a(p,P,n)||(p!==f&&p.push(P),f.push(w))}return f}function Ai(e,t){return t=It(t,e),e=to(e,t),e==null||delete e[st(Ge(t))]}function Oa(e,t,n,s){return An(e,t,n(Ht(e,t)),s)}function ur(e,t,n,s){for(var a=e.length,u=s?a:-1;(s?u--:++u<a)&&t(e[u],u,e););return n?We(e,s?0:u,s?u+1:a):We(e,s?u+1:0,s?a:u)}function Sa(e,t){var n=e;return n instanceof F&&(n=n.value()),kr(t,function(s,a){return a.func.apply(a.thisArg,wt([s],a.args))},n)}function Ii(e,t,n){var s=e.length;if(s<2)return s?At(e[0]):[];for(var a=-1,u=g(s);++a<s;)for(var h=e[a],f=-1;++f<s;)f!=a&&(u[a]=yn(u[a]||h,e[f],t,n));return At(le(u,1),t,n)}function Ra(e,t,n){for(var s=-1,a=e.length,u=t.length,h={};++s<a;){var f=s<u?t[s]:i;n(h,e[s],f)}return h}function Ei(e){return re(e)?e:[]}function bi(e){return typeof e=="function"?e:be}function It(e,t){return H(e)?e:Hi(e,t)?[e]:so(J(e))}var wf=U;function Et(e,t,n){var s=e.length;return n=n===i?s:n,!t&&n>=s?e:We(e,t,n)}var Ta=sh||function(e){return fe.clearTimeout(e)};function Da(e,t){if(t)return e.slice();var n=e.length,s=Vs?Vs(n):new e.constructor(n);return e.copy(s),s}function xi(e){var t=new e.constructor(e.byteLength);return new Zn(t).set(new Zn(e)),t}function yf(e,t){var n=t?xi(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}function Pf(e){var t=new e.constructor(e.source,gs.exec(e));return t.lastIndex=e.lastIndex,t}function Cf(e){return mn?Z(mn.call(e)):{}}function La(e,t){var n=t?xi(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function $a(e,t){if(e!==t){var n=e!==i,s=e===null,a=e===e,u=Te(e),h=t!==i,f=t===null,p=t===t,m=Te(t);if(!f&&!m&&!u&&e>t||u&&h&&p&&!f&&!m||s&&h&&p||!n&&p||!a)return 1;if(!s&&!u&&!m&&e<t||m&&n&&a&&!s&&!u||f&&n&&a||!h&&a||!p)return-1}return 0}function Af(e,t,n){for(var s=-1,a=e.criteria,u=t.criteria,h=a.length,f=n.length;++s<h;){var p=$a(a[s],u[s]);if(p){if(s>=f)return p;var m=n[s];return p*(m=="desc"?-1:1)}}return e.index-t.index}function Ha(e,t,n,s){for(var a=-1,u=e.length,h=n.length,f=-1,p=t.length,m=ue(u-h,0),w=g(p+m),P=!s;++f<p;)w[f]=t[f];for(;++a<h;)(P||a<u)&&(w[n[a]]=e[a]);for(;m--;)w[f++]=e[a++];return w}function Na(e,t,n,s){for(var a=-1,u=e.length,h=-1,f=n.length,p=-1,m=t.length,w=ue(u-f,0),P=g(w+m),E=!s;++a<w;)P[a]=e[a];for(var x=a;++p<m;)P[x+p]=t[p];for(;++h<f;)(E||a<u)&&(P[x+n[h]]=e[a++]);return P}function Ae(e,t){var n=-1,s=e.length;for(t||(t=g(s));++n<s;)t[n]=e[n];return t}function it(e,t,n,s){var a=!n;n||(n={});for(var u=-1,h=t.length;++u<h;){var f=t[u],p=s?s(n[f],e[f],f,n,e):i;p===i&&(p=e[f]),a?ht(n,f,p):wn(n,f,p)}return n}function If(e,t){return it(e,$i(e),t)}function Ef(e,t){return it(e,Xa(e),t)}function cr(e,t){return function(n,s){var a=H(n)?Sc:Jh,u=t?t():{};return a(n,e,S(s,2),u)}}function jt(e){return U(function(t,n){var s=-1,a=n.length,u=a>1?n[a-1]:i,h=a>2?n[2]:i;for(u=e.length>3&&typeof u=="function"?(a--,u):i,h&&ye(n[0],n[1],h)&&(u=a<3?i:u,a=1),t=Z(t);++s<a;){var f=n[s];f&&e(t,f,s,u)}return t})}function Ma(e,t){return function(n,s){if(n==null)return n;if(!Ie(n))return e(n,s);for(var a=n.length,u=t?a:-1,h=Z(n);(t?u--:++u<a)&&s(h[u],u,h)!==!1;);return n}}function qa(e){return function(t,n,s){for(var a=-1,u=Z(t),h=s(t),f=h.length;f--;){var p=h[e?f:++a];if(n(u[p],p,u)===!1)break}return t}}function bf(e,t,n){var s=t&_e,a=In(e);function u(){var h=this&&this!==fe&&this instanceof u?a:e;return h.apply(s?n:this,arguments)}return u}function Ua(e){return function(t){t=J(t);var n=zt(t)?Qe(t):i,s=n?n[0]:t.charAt(0),a=n?Et(n,1).join(""):t.slice(1);return s[e]()+a}}function kt(e){return function(t){return kr(qo(Mo(t).replace(gc,"")),e,"")}}function In(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=Qt(e.prototype),s=e.apply(n,t);return ee(s)?s:n}}function xf(e,t,n){var s=In(e);function a(){for(var u=arguments.length,h=g(u),f=u,p=Vt(a);f--;)h[f]=arguments[f];var m=u<3&&h[0]!==p&&h[u-1]!==p?[]:yt(h,p);if(u-=m.length,u<n)return za(e,t,hr,a.placeholder,i,h,m,i,i,n-u);var w=this&&this!==fe&&this instanceof a?s:e;return Oe(w,this,h)}return a}function Ba(e){return function(t,n,s){var a=Z(t);if(!Ie(t)){var u=S(n,3);t=he(t),n=function(f){return u(a[f],f,a)}}var h=e(t,n,s);return h>-1?a[u?t[h]:h]:i}}function Fa(e){return lt(function(t){var n=t.length,s=n,a=Be.prototype.thru;for(e&&t.reverse();s--;){var u=t[s];if(typeof u!="function")throw new Ue(I);if(a&&!h&&dr(u)=="wrapper")var h=new Be([],!0)}for(s=h?s:n;++s<n;){u=t[s];var f=dr(u),p=f=="wrapper"?Di(u):i;p&&Ni(p[0])&&p[1]==(Ye|Je|He|St)&&!p[4].length&&p[9]==1?h=h[dr(p[0])].apply(h,p[3]):h=u.length==1&&Ni(u)?h[f]():h.thru(u)}return function(){var m=arguments,w=m[0];if(h&&m.length==1&&H(w))return h.plant(w).value();for(var P=0,E=n?t[P].apply(this,m):w;++P<n;)E=t[P].call(this,E);return E}})}function hr(e,t,n,s,a,u,h,f,p,m){var w=t&Ye,P=t&_e,E=t&at,x=t&(Je|Ot),R=t&Ne,M=E?i:In(e);function T(){for(var B=arguments.length,W=g(B),De=B;De--;)W[De]=arguments[De];if(x)var Pe=Vt(T),Le=qc(W,Pe);if(s&&(W=Ha(W,s,a,x)),u&&(W=Na(W,u,h,x)),B-=Le,x&&B<m){var ie=yt(W,Pe);return za(e,t,hr,T.placeholder,n,W,ie,f,p,m-B)}var Ve=P?n:this,vt=E?Ve[e]:e;return B=W.length,f?W=Yf(W,f):R&&B>1&&W.reverse(),w&&p<B&&(W.length=p),this&&this!==fe&&this instanceof T&&(vt=M||In(vt)),vt.apply(Ve,W)}return T}function Wa(e,t){return function(n,s){return ef(n,e,t(s),{})}}function fr(e,t){return function(n,s){var a;if(n===i&&s===i)return t;if(n!==i&&(a=n),s!==i){if(a===i)return s;typeof n=="string"||typeof s=="string"?(n=Re(n),s=Re(s)):(n=xa(n),s=xa(s)),a=e(n,s)}return a}}function Oi(e){return lt(function(t){return t=V(t,Se(S())),U(function(n){var s=this;return e(t,function(a){return Oe(a,s,n)})})})}function lr(e,t){t=t===i?" ":Re(t);var n=t.length;if(n<2)return n?Pi(t,e):t;var s=Pi(t,kn(e/Kt(t)));return zt(t)?Et(Qe(s),0,e).join(""):s.slice(0,e)}function Of(e,t,n,s){var a=t&_e,u=In(e);function h(){for(var f=-1,p=arguments.length,m=-1,w=s.length,P=g(w+p),E=this&&this!==fe&&this instanceof h?u:e;++m<w;)P[m]=s[m];for(;p--;)P[m++]=arguments[++f];return Oe(E,a?n:this,P)}return h}function Ga(e){return function(t,n,s){return s&&typeof s!="number"&&ye(t,n,s)&&(n=s=i),t=gt(t),n===i?(n=t,t=0):n=gt(n),s=s===i?t<n?1:-1:gt(s),pf(t,n,s,e)}}function pr(e){return function(t,n){return typeof t=="string"&&typeof n=="string"||(t=ze(t),n=ze(n)),e(t,n)}}function za(e,t,n,s,a,u,h,f,p,m){var w=t&Je,P=w?h:i,E=w?i:h,x=w?u:i,R=w?i:u;t|=w?He:_t,t&=~(w?_t:He),t&Tn||(t&=-4);var M=[e,t,a,x,P,R,E,f,p,m],T=n.apply(i,M);return Ni(e)&&no(T,M),T.placeholder=s,ro(T,e,t)}function Si(e){var t=oe[e];return function(n,s){if(n=ze(n),s=s==null?0:ge(N(s),292),s&&ra(n)){var a=(J(n)+"e").split("e"),u=t(a[0]+"e"+(+a[1]+s));return a=(J(u)+"e").split("e"),+(a[0]+"e"+(+a[1]-s))}return t(n)}}var Sf=Zt&&1/Wn(new Zt([,-0]))[1]==$?function(e){return new Zt(e)}:ji;function Ka(e){return function(t){var n=ve(t);return n==Ze?si(t):n==Xe?Kc(t):Mc(t,e(t))}}function ft(e,t,n,s,a,u,h,f){var p=t&at;if(!p&&typeof e!="function")throw new Ue(I);var m=s?s.length:0;if(m||(t&=-97,s=a=i),h=h===i?h:ue(N(h),0),f=f===i?f:N(f),m-=a?a.length:0,t&_t){var w=s,P=a;s=a=i}var E=p?i:Di(e),x=[e,t,n,s,a,w,P,u,h,f];if(E&&zf(x,E),e=x[0],t=x[1],n=x[2],s=x[3],a=x[4],f=x[9]=x[9]===i?p?0:e.length:ue(x[9]-m,0),!f&&t&(Je|Ot)&&(t&=-25),!t||t==_e)var R=bf(e,t,n);else t==Je||t==Ot?R=xf(e,t,f):(t==He||t==(_e|He))&&!a.length?R=Of(e,t,n,s):R=hr.apply(i,x);var M=E?Ea:no;return ro(M(R,x),e,t)}function Ja(e,t,n,s){return e===i||ke(e,Yt[n])&&!Y.call(s,n)?t:e}function Ya(e,t,n,s,a,u){return ee(e)&&ee(t)&&(u.set(t,e),ar(e,t,i,Ya,u),u.delete(t)),e}function Rf(e){return xn(e)?i:e}function Za(e,t,n,s,a,u){var h=n&nt,f=e.length,p=t.length;if(f!=p&&!(h&&p>f))return!1;var m=u.get(e),w=u.get(t);if(m&&w)return m==t&&w==e;var P=-1,E=!0,x=n&Q?new Lt:i;for(u.set(e,t),u.set(t,e);++P<f;){var R=e[P],M=t[P];if(s)var T=h?s(M,R,P,t,e,u):s(R,M,P,e,t,u);if(T!==i){if(T)continue;E=!1;break}if(x){if(!Vr(t,function(B,W){if(!pn(x,W)&&(R===B||a(R,B,n,s,u)))return x.push(W)})){E=!1;break}}else if(!(R===M||a(R,M,n,s,u))){E=!1;break}}return u.delete(e),u.delete(t),E}function Tf(e,t,n,s,a,u,h){switch(n){case Ft:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case ln:return!(e.byteLength!=t.byteLength||!u(new Zn(e),new Zn(t)));case an:case on:case un:return ke(+e,+t);case $n:return e.name==t.name&&e.message==t.message;case cn:case hn:return e==t+"";case Ze:var f=si;case Xe:var p=s&nt;if(f||(f=Wn),e.size!=t.size&&!p)return!1;var m=h.get(e);if(m)return m==t;s|=Q,h.set(e,t);var w=Za(f(e),f(t),s,a,u,h);return h.delete(e),w;case Nn:if(mn)return mn.call(e)==mn.call(t)}return!1}function Df(e,t,n,s,a,u){var h=n&nt,f=Ri(e),p=f.length,m=Ri(t),w=m.length;if(p!=w&&!h)return!1;for(var P=p;P--;){var E=f[P];if(!(h?E in t:Y.call(t,E)))return!1}var x=u.get(e),R=u.get(t);if(x&&R)return x==t&&R==e;var M=!0;u.set(e,t),u.set(t,e);for(var T=h;++P<p;){E=f[P];var B=e[E],W=t[E];if(s)var De=h?s(W,B,E,t,e,u):s(B,W,E,e,t,u);if(!(De===i?B===W||a(B,W,n,s,u):De)){M=!1;break}T||(T=E=="constructor")}if(M&&!T){var Pe=e.constructor,Le=t.constructor;Pe!=Le&&"constructor"in e&&"constructor"in t&&!(typeof Pe=="function"&&Pe instanceof Pe&&typeof Le=="function"&&Le instanceof Le)&&(M=!1)}return u.delete(e),u.delete(t),M}function lt(e){return qi(eo(e,i,co),e+"")}function Ri(e){return da(e,he,$i)}function Ti(e){return da(e,Ee,Xa)}var Di=er?function(e){return er.get(e)}:ji;function dr(e){for(var t=e.name+"",n=Xt[t],s=Y.call(Xt,t)?n.length:0;s--;){var a=n[s],u=a.func;if(u==null||u==e)return a.name}return t}function Vt(e){var t=Y.call(o,"placeholder")?o:e;return t.placeholder}function S(){var e=o.iteratee||Xi;return e=e===Xi?_a:e,arguments.length?e(arguments[0],arguments[1]):e}function gr(e,t){var n=e.__data__;return Bf(t)?n[typeof t=="string"?"string":"hash"]:n.map}function Li(e){for(var t=he(e),n=t.length;n--;){var s=t[n],a=e[s];t[n]=[s,a,ka(a)]}return t}function Nt(e,t){var n=Wc(e,t);return va(n)?n:i}function Lf(e){var t=Y.call(e,Tt),n=e[Tt];try{e[Tt]=i;var s=!0}catch{}var a=Jn.call(e);return s&&(t?e[Tt]=n:delete e[Tt]),a}var $i=oi?function(e){return e==null?[]:(e=Z(e),mt(oi(e),function(t){return ta.call(e,t)}))}:ki,Xa=oi?function(e){for(var t=[];e;)wt(t,$i(e)),e=Xn(e);return t}:ki,ve=we;(ui&&ve(new ui(new ArrayBuffer(1)))!=Ft||gn&&ve(new gn)!=Ze||ci&&ve(ci.resolve())!=fs||Zt&&ve(new Zt)!=Xe||vn&&ve(new vn)!=fn)&&(ve=function(e){var t=we(e),n=t==ot?e.constructor:i,s=n?Mt(n):"";if(s)switch(s){case dh:return Ft;case gh:return Ze;case vh:return fs;case _h:return Xe;case mh:return fn}return t});function $f(e,t,n){for(var s=-1,a=n.length;++s<a;){var u=n[s],h=u.size;switch(u.type){case"drop":e+=h;break;case"dropRight":t-=h;break;case"take":t=ge(t,e+h);break;case"takeRight":e=ue(e,t-h);break}}return{start:e,end:t}}function Hf(e){var t=e.match(Bu);return t?t[1].split(Fu):[]}function Qa(e,t,n){t=It(t,e);for(var s=-1,a=t.length,u=!1;++s<a;){var h=st(t[s]);if(!(u=e!=null&&n(e,h)))break;e=e[h]}return u||++s!=a?u:(a=e==null?0:e.length,!!a&&Cr(a)&&pt(h,a)&&(H(e)||qt(e)))}function Nf(e){var t=e.length,n=new e.constructor(t);return t&&typeof e[0]=="string"&&Y.call(e,"index")&&(n.index=e.index,n.input=e.input),n}function ja(e){return typeof e.constructor=="function"&&!En(e)?Qt(Xn(e)):{}}function Mf(e,t,n){var s=e.constructor;switch(t){case ln:return xi(e);case an:case on:return new s(+e);case Ft:return yf(e,n);case Lr:case $r:case Hr:case Nr:case Mr:case qr:case Ur:case Br:case Fr:return La(e,n);case Ze:return new s;case un:case hn:return new s(e);case cn:return Pf(e);case Xe:return new s;case Nn:return Cf(e)}}function qf(e,t){var n=t.length;if(!n)return e;var s=n-1;return t[s]=(n>1?"& ":"")+t[s],t=t.join(n>2?", ":" "),e.replace(Uu,`{
/* [wrapped with `+t+`] */
`)}function Uf(e){return H(e)||qt(e)||!!(na&&e&&e[na])}function pt(e,t){var n=typeof e;return t=t??G,!!t&&(n=="number"||n!="symbol"&&Qu.test(e))&&e>-1&&e%1==0&&e<t}function ye(e,t,n){if(!ee(n))return!1;var s=typeof t;return(s=="number"?Ie(n)&&pt(t,n.length):s=="string"&&t in n)?ke(n[t],e):!1}function Hi(e,t){if(H(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||Te(e)?!0:Hu.test(e)||!$u.test(e)||t!=null&&e in Z(t)}function Bf(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function Ni(e){var t=dr(e),n=o[t];if(typeof n!="function"||!(t in F.prototype))return!1;if(e===n)return!0;var s=Di(n);return!!s&&e===s[0]}function Ff(e){return!!ks&&ks in e}var Wf=zn?dt:Vi;function En(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||Yt;return e===n}function ka(e){return e===e&&!ee(e)}function Va(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==i||e in Z(n))}}function Gf(e){var t=yr(e,function(s){return n.size===ne&&n.clear(),s}),n=t.cache;return t}function zf(e,t){var n=e[1],s=t[1],a=n|s,u=a<(_e|at|Ye),h=s==Ye&&n==Je||s==Ye&&n==St&&e[7].length<=t[8]||s==(Ye|St)&&t[7].length<=t[8]&&n==Je;if(!(u||h))return e;s&_e&&(e[2]=t[2],a|=n&_e?0:Tn);var f=t[3];if(f){var p=e[3];e[3]=p?Ha(p,f,t[4]):f,e[4]=p?yt(e[3],pe):t[4]}return f=t[5],f&&(p=e[5],e[5]=p?Na(p,f,t[6]):f,e[6]=p?yt(e[5],pe):t[6]),f=t[7],f&&(e[7]=f),s&Ye&&(e[8]=e[8]==null?t[8]:ge(e[8],t[8])),e[9]==null&&(e[9]=t[9]),e[0]=t[0],e[1]=a,e}function Kf(e){var t=[];if(e!=null)for(var n in Z(e))t.push(n);return t}function Jf(e){return Jn.call(e)}function eo(e,t,n){return t=ue(t===i?e.length-1:t,0),function(){for(var s=arguments,a=-1,u=ue(s.length-t,0),h=g(u);++a<u;)h[a]=s[t+a];a=-1;for(var f=g(t+1);++a<t;)f[a]=s[a];return f[t]=n(h),Oe(e,this,f)}}function to(e,t){return t.length<2?e:Ht(e,We(t,0,-1))}function Yf(e,t){for(var n=e.length,s=ge(t.length,n),a=Ae(e);s--;){var u=t[s];e[s]=pt(u,n)?a[u]:i}return e}function Mi(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}var no=io(Ea),bn=oh||function(e,t){return fe.setTimeout(e,t)},qi=io(vf);function ro(e,t,n){var s=t+"";return qi(e,qf(s,Zf(Hf(s),n)))}function io(e){var t=0,n=0;return function(){var s=fh(),a=Dr-(s-n);if(n=s,a>0){if(++t>=xe)return arguments[0]}else t=0;return e.apply(i,arguments)}}function vr(e,t){var n=-1,s=e.length,a=s-1;for(t=t===i?s:t;++n<t;){var u=yi(n,a),h=e[u];e[u]=e[n],e[n]=h}return e.length=t,e}var so=Gf(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(Nu,function(n,s,a,u){t.push(a?u.replace(zu,"$1"):s||n)}),t});function st(e){if(typeof e=="string"||Te(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}function Mt(e){if(e!=null){try{return Kn.call(e)}catch{}try{return e+""}catch{}}return""}function Zf(e,t){return qe(ae,function(n){var s="_."+n[0];t&n[1]&&!Bn(e,s)&&e.push(s)}),e.sort()}function ao(e){if(e instanceof F)return e.clone();var t=new Be(e.__wrapped__,e.__chain__);return t.__actions__=Ae(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}function Xf(e,t,n){(n?ye(e,t,n):t===i)?t=1:t=ue(N(t),0);var s=e==null?0:e.length;if(!s||t<1)return[];for(var a=0,u=0,h=g(kn(s/t));a<s;)h[u++]=We(e,a,a+=t);return h}function Qf(e){for(var t=-1,n=e==null?0:e.length,s=0,a=[];++t<n;){var u=e[t];u&&(a[s++]=u)}return a}function jf(){var e=arguments.length;if(!e)return[];for(var t=g(e-1),n=arguments[0],s=e;s--;)t[s-1]=arguments[s];return wt(H(n)?Ae(n):[n],le(t,1))}var kf=U(function(e,t){return re(e)?yn(e,le(t,1,re,!0)):[]}),Vf=U(function(e,t){var n=Ge(t);return re(n)&&(n=i),re(e)?yn(e,le(t,1,re,!0),S(n,2)):[]}),el=U(function(e,t){var n=Ge(t);return re(n)&&(n=i),re(e)?yn(e,le(t,1,re,!0),i,n):[]});function tl(e,t,n){var s=e==null?0:e.length;return s?(t=n||t===i?1:N(t),We(e,t<0?0:t,s)):[]}function nl(e,t,n){var s=e==null?0:e.length;return s?(t=n||t===i?1:N(t),t=s-t,We(e,0,t<0?0:t)):[]}function rl(e,t){return e&&e.length?ur(e,S(t,3),!0,!0):[]}function il(e,t){return e&&e.length?ur(e,S(t,3),!0):[]}function sl(e,t,n,s){var a=e==null?0:e.length;return a?(n&&typeof n!="number"&&ye(e,t,n)&&(n=0,s=a),Qh(e,t,n,s)):[]}function oo(e,t,n){var s=e==null?0:e.length;if(!s)return-1;var a=n==null?0:N(n);return a<0&&(a=ue(s+a,0)),Fn(e,S(t,3),a)}function uo(e,t,n){var s=e==null?0:e.length;if(!s)return-1;var a=s-1;return n!==i&&(a=N(n),a=n<0?ue(s+a,0):ge(a,s-1)),Fn(e,S(t,3),a,!0)}function co(e){var t=e==null?0:e.length;return t?le(e,1):[]}function al(e){var t=e==null?0:e.length;return t?le(e,$):[]}function ol(e,t){var n=e==null?0:e.length;return n?(t=t===i?1:N(t),le(e,t)):[]}function ul(e){for(var t=-1,n=e==null?0:e.length,s={};++t<n;){var a=e[t];s[a[0]]=a[1]}return s}function ho(e){return e&&e.length?e[0]:i}function cl(e,t,n){var s=e==null?0:e.length;if(!s)return-1;var a=n==null?0:N(n);return a<0&&(a=ue(s+a,0)),Gt(e,t,a)}function hl(e){var t=e==null?0:e.length;return t?We(e,0,-1):[]}var fl=U(function(e){var t=V(e,Ei);return t.length&&t[0]===e[0]?gi(t):[]}),ll=U(function(e){var t=Ge(e),n=V(e,Ei);return t===Ge(n)?t=i:n.pop(),n.length&&n[0]===e[0]?gi(n,S(t,2)):[]}),pl=U(function(e){var t=Ge(e),n=V(e,Ei);return t=typeof t=="function"?t:i,t&&n.pop(),n.length&&n[0]===e[0]?gi(n,i,t):[]});function dl(e,t){return e==null?"":ch.call(e,t)}function Ge(e){var t=e==null?0:e.length;return t?e[t-1]:i}function gl(e,t,n){var s=e==null?0:e.length;if(!s)return-1;var a=s;return n!==i&&(a=N(n),a=a<0?ue(s+a,0):ge(a,s-1)),t===t?Yc(e,t,a):Fn(e,zs,a,!0)}function vl(e,t){return e&&e.length?Pa(e,N(t)):i}var _l=U(fo);function fo(e,t){return e&&e.length&&t&&t.length?wi(e,t):e}function ml(e,t,n){return e&&e.length&&t&&t.length?wi(e,t,S(n,2)):e}function wl(e,t,n){return e&&e.length&&t&&t.length?wi(e,t,i,n):e}var yl=lt(function(e,t){var n=e==null?0:e.length,s=fi(e,t);return Ia(e,V(t,function(a){return pt(a,n)?+a:a}).sort($a)),s});function Pl(e,t){var n=[];if(!(e&&e.length))return n;var s=-1,a=[],u=e.length;for(t=S(t,3);++s<u;){var h=e[s];t(h,s,e)&&(n.push(h),a.push(s))}return Ia(e,a),n}function Ui(e){return e==null?e:ph.call(e)}function Cl(e,t,n){var s=e==null?0:e.length;return s?(n&&typeof n!="number"&&ye(e,t,n)?(t=0,n=s):(t=t==null?0:N(t),n=n===i?s:N(n)),We(e,t,n)):[]}function Al(e,t){return or(e,t)}function Il(e,t,n){return Ci(e,t,S(n,2))}function El(e,t){var n=e==null?0:e.length;if(n){var s=or(e,t);if(s<n&&ke(e[s],t))return s}return-1}function bl(e,t){return or(e,t,!0)}function xl(e,t,n){return Ci(e,t,S(n,2),!0)}function Ol(e,t){var n=e==null?0:e.length;if(n){var s=or(e,t,!0)-1;if(ke(e[s],t))return s}return-1}function Sl(e){return e&&e.length?ba(e):[]}function Rl(e,t){return e&&e.length?ba(e,S(t,2)):[]}function Tl(e){var t=e==null?0:e.length;return t?We(e,1,t):[]}function Dl(e,t,n){return e&&e.length?(t=n||t===i?1:N(t),We(e,0,t<0?0:t)):[]}function Ll(e,t,n){var s=e==null?0:e.length;return s?(t=n||t===i?1:N(t),t=s-t,We(e,t<0?0:t,s)):[]}function $l(e,t){return e&&e.length?ur(e,S(t,3),!1,!0):[]}function Hl(e,t){return e&&e.length?ur(e,S(t,3)):[]}var Nl=U(function(e){return At(le(e,1,re,!0))}),Ml=U(function(e){var t=Ge(e);return re(t)&&(t=i),At(le(e,1,re,!0),S(t,2))}),ql=U(function(e){var t=Ge(e);return t=typeof t=="function"?t:i,At(le(e,1,re,!0),i,t)});function Ul(e){return e&&e.length?At(e):[]}function Bl(e,t){return e&&e.length?At(e,S(t,2)):[]}function Fl(e,t){return t=typeof t=="function"?t:i,e&&e.length?At(e,i,t):[]}function Bi(e){if(!(e&&e.length))return[];var t=0;return e=mt(e,function(n){if(re(n))return t=ue(n.length,t),!0}),ri(t,function(n){return V(e,ei(n))})}function lo(e,t){if(!(e&&e.length))return[];var n=Bi(e);return t==null?n:V(n,function(s){return Oe(t,i,s)})}var Wl=U(function(e,t){return re(e)?yn(e,t):[]}),Gl=U(function(e){return Ii(mt(e,re))}),zl=U(function(e){var t=Ge(e);return re(t)&&(t=i),Ii(mt(e,re),S(t,2))}),Kl=U(function(e){var t=Ge(e);return t=typeof t=="function"?t:i,Ii(mt(e,re),i,t)}),Jl=U(Bi);function Yl(e,t){return Ra(e||[],t||[],wn)}function Zl(e,t){return Ra(e||[],t||[],An)}var Xl=U(function(e){var t=e.length,n=t>1?e[t-1]:i;return n=typeof n=="function"?(e.pop(),n):i,lo(e,n)});function po(e){var t=o(e);return t.__chain__=!0,t}function Ql(e,t){return t(e),e}function _r(e,t){return t(e)}var jl=lt(function(e){var t=e.length,n=t?e[0]:0,s=this.__wrapped__,a=function(u){return fi(u,e)};return t>1||this.__actions__.length||!(s instanceof F)||!pt(n)?this.thru(a):(s=s.slice(n,+n+(t?1:0)),s.__actions__.push({func:_r,args:[a],thisArg:i}),new Be(s,this.__chain__).thru(function(u){return t&&!u.length&&u.push(i),u}))});function kl(){return po(this)}function Vl(){return new Be(this.value(),this.__chain__)}function ep(){this.__values__===i&&(this.__values__=Oo(this.value()));var e=this.__index__>=this.__values__.length,t=e?i:this.__values__[this.__index__++];return{done:e,value:t}}function tp(){return this}function np(e){for(var t,n=this;n instanceof nr;){var s=ao(n);s.__index__=0,s.__values__=i,t?a.__wrapped__=s:t=s;var a=s;n=n.__wrapped__}return a.__wrapped__=e,t}function rp(){var e=this.__wrapped__;if(e instanceof F){var t=e;return this.__actions__.length&&(t=new F(this)),t=t.reverse(),t.__actions__.push({func:_r,args:[Ui],thisArg:i}),new Be(t,this.__chain__)}return this.thru(Ui)}function ip(){return Sa(this.__wrapped__,this.__actions__)}var sp=cr(function(e,t,n){Y.call(e,n)?++e[n]:ht(e,n,1)});function ap(e,t,n){var s=H(e)?Ws:Xh;return n&&ye(e,t,n)&&(t=i),s(e,S(t,3))}function op(e,t){var n=H(e)?mt:la;return n(e,S(t,3))}var up=Ba(oo),cp=Ba(uo);function hp(e,t){return le(mr(e,t),1)}function fp(e,t){return le(mr(e,t),$)}function lp(e,t,n){return n=n===i?1:N(n),le(mr(e,t),n)}function go(e,t){var n=H(e)?qe:Ct;return n(e,S(t,3))}function vo(e,t){var n=H(e)?Rc:fa;return n(e,S(t,3))}var pp=cr(function(e,t,n){Y.call(e,n)?e[n].push(t):ht(e,n,[t])});function dp(e,t,n,s){e=Ie(e)?e:tn(e),n=n&&!s?N(n):0;var a=e.length;return n<0&&(n=ue(a+n,0)),Ar(e)?n<=a&&e.indexOf(t,n)>-1:!!a&&Gt(e,t,n)>-1}var gp=U(function(e,t,n){var s=-1,a=typeof t=="function",u=Ie(e)?g(e.length):[];return Ct(e,function(h){u[++s]=a?Oe(t,h,n):Pn(h,t,n)}),u}),vp=cr(function(e,t,n){ht(e,n,t)});function mr(e,t){var n=H(e)?V:ma;return n(e,S(t,3))}function _p(e,t,n,s){return e==null?[]:(H(t)||(t=t==null?[]:[t]),n=s?i:n,H(n)||(n=n==null?[]:[n]),Ca(e,t,n))}var mp=cr(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]});function wp(e,t,n){var s=H(e)?kr:Js,a=arguments.length<3;return s(e,S(t,4),n,a,Ct)}function yp(e,t,n){var s=H(e)?Tc:Js,a=arguments.length<3;return s(e,S(t,4),n,a,fa)}function Pp(e,t){var n=H(e)?mt:la;return n(e,Pr(S(t,3)))}function Cp(e){var t=H(e)?oa:df;return t(e)}function Ap(e,t,n){(n?ye(e,t,n):t===i)?t=1:t=N(t);var s=H(e)?zh:gf;return s(e,t)}function Ip(e){var t=H(e)?Kh:_f;return t(e)}function Ep(e){if(e==null)return 0;if(Ie(e))return Ar(e)?Kt(e):e.length;var t=ve(e);return t==Ze||t==Xe?e.size:_i(e).length}function bp(e,t,n){var s=H(e)?Vr:mf;return n&&ye(e,t,n)&&(t=i),s(e,S(t,3))}var xp=U(function(e,t){if(e==null)return[];var n=t.length;return n>1&&ye(e,t[0],t[1])?t=[]:n>2&&ye(t[0],t[1],t[2])&&(t=[t[0]]),Ca(e,le(t,1),[])}),wr=ah||function(){return fe.Date.now()};function Op(e,t){if(typeof t!="function")throw new Ue(I);return e=N(e),function(){if(--e<1)return t.apply(this,arguments)}}function _o(e,t,n){return t=n?i:t,t=e&&t==null?e.length:t,ft(e,Ye,i,i,i,i,t)}function mo(e,t){var n;if(typeof t!="function")throw new Ue(I);return e=N(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=i),n}}var Fi=U(function(e,t,n){var s=_e;if(n.length){var a=yt(n,Vt(Fi));s|=He}return ft(e,s,t,n,a)}),wo=U(function(e,t,n){var s=_e|at;if(n.length){var a=yt(n,Vt(wo));s|=He}return ft(t,s,e,n,a)});function yo(e,t,n){t=n?i:t;var s=ft(e,Je,i,i,i,i,i,t);return s.placeholder=yo.placeholder,s}function Po(e,t,n){t=n?i:t;var s=ft(e,Ot,i,i,i,i,i,t);return s.placeholder=Po.placeholder,s}function Co(e,t,n){var s,a,u,h,f,p,m=0,w=!1,P=!1,E=!0;if(typeof e!="function")throw new Ue(I);t=ze(t)||0,ee(n)&&(w=!!n.leading,P="maxWait"in n,u=P?ue(ze(n.maxWait)||0,t):u,E="trailing"in n?!!n.trailing:E);function x(ie){var Ve=s,vt=a;return s=a=i,m=ie,h=e.apply(vt,Ve),h}function R(ie){return m=ie,f=bn(B,t),w?x(ie):h}function M(ie){var Ve=ie-p,vt=ie-m,Fo=t-Ve;return P?ge(Fo,u-vt):Fo}function T(ie){var Ve=ie-p,vt=ie-m;return p===i||Ve>=t||Ve<0||P&&vt>=u}function B(){var ie=wr();if(T(ie))return W(ie);f=bn(B,M(ie))}function W(ie){return f=i,E&&s?x(ie):(s=a=i,h)}function De(){f!==i&&Ta(f),m=0,s=p=a=f=i}function Pe(){return f===i?h:W(wr())}function Le(){var ie=wr(),Ve=T(ie);if(s=arguments,a=this,p=ie,Ve){if(f===i)return R(p);if(P)return Ta(f),f=bn(B,t),x(p)}return f===i&&(f=bn(B,t)),h}return Le.cancel=De,Le.flush=Pe,Le}var Sp=U(function(e,t){return ha(e,1,t)}),Rp=U(function(e,t,n){return ha(e,ze(t)||0,n)});function Tp(e){return ft(e,Ne)}function yr(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new Ue(I);var n=function(){var s=arguments,a=t?t.apply(this,s):s[0],u=n.cache;if(u.has(a))return u.get(a);var h=e.apply(this,s);return n.cache=u.set(a,h)||u,h};return n.cache=new(yr.Cache||ct),n}yr.Cache=ct;function Pr(e){if(typeof e!="function")throw new Ue(I);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}function Dp(e){return mo(2,e)}var Lp=wf(function(e,t){t=t.length==1&&H(t[0])?V(t[0],Se(S())):V(le(t,1),Se(S()));var n=t.length;return U(function(s){for(var a=-1,u=ge(s.length,n);++a<u;)s[a]=t[a].call(this,s[a]);return Oe(e,this,s)})}),Wi=U(function(e,t){var n=yt(t,Vt(Wi));return ft(e,He,i,t,n)}),Ao=U(function(e,t){var n=yt(t,Vt(Ao));return ft(e,_t,i,t,n)}),$p=lt(function(e,t){return ft(e,St,i,i,i,t)});function Hp(e,t){if(typeof e!="function")throw new Ue(I);return t=t===i?t:N(t),U(e,t)}function Np(e,t){if(typeof e!="function")throw new Ue(I);return t=t==null?0:ue(N(t),0),U(function(n){var s=n[t],a=Et(n,0,t);return s&&wt(a,s),Oe(e,this,a)})}function Mp(e,t,n){var s=!0,a=!0;if(typeof e!="function")throw new Ue(I);return ee(n)&&(s="leading"in n?!!n.leading:s,a="trailing"in n?!!n.trailing:a),Co(e,t,{leading:s,maxWait:t,trailing:a})}function qp(e){return _o(e,1)}function Up(e,t){return Wi(bi(t),e)}function Bp(){if(!arguments.length)return[];var e=arguments[0];return H(e)?e:[e]}function Fp(e){return Fe(e,ce)}function Wp(e,t){return t=typeof t=="function"?t:i,Fe(e,ce,t)}function Gp(e){return Fe(e,de|ce)}function zp(e,t){return t=typeof t=="function"?t:i,Fe(e,de|ce,t)}function Kp(e,t){return t==null||ca(e,t,he(t))}function ke(e,t){return e===t||e!==e&&t!==t}var Jp=pr(di),Yp=pr(function(e,t){return e>=t}),qt=ga(function(){return arguments}())?ga:function(e){return te(e)&&Y.call(e,"callee")&&!ta.call(e,"callee")},H=g.isArray,Zp=Ns?Se(Ns):tf;function Ie(e){return e!=null&&Cr(e.length)&&!dt(e)}function re(e){return te(e)&&Ie(e)}function Xp(e){return e===!0||e===!1||te(e)&&we(e)==an}var bt=uh||Vi,Qp=Ms?Se(Ms):nf;function jp(e){return te(e)&&e.nodeType===1&&!xn(e)}function kp(e){if(e==null)return!0;if(Ie(e)&&(H(e)||typeof e=="string"||typeof e.splice=="function"||bt(e)||en(e)||qt(e)))return!e.length;var t=ve(e);if(t==Ze||t==Xe)return!e.size;if(En(e))return!_i(e).length;for(var n in e)if(Y.call(e,n))return!1;return!0}function Vp(e,t){return Cn(e,t)}function ed(e,t,n){n=typeof n=="function"?n:i;var s=n?n(e,t):i;return s===i?Cn(e,t,i,n):!!s}function Gi(e){if(!te(e))return!1;var t=we(e);return t==$n||t==Cu||typeof e.message=="string"&&typeof e.name=="string"&&!xn(e)}function td(e){return typeof e=="number"&&ra(e)}function dt(e){if(!ee(e))return!1;var t=we(e);return t==Hn||t==hs||t==Pu||t==Iu}function Io(e){return typeof e=="number"&&e==N(e)}function Cr(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=G}function ee(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}function te(e){return e!=null&&typeof e=="object"}var Eo=qs?Se(qs):sf;function nd(e,t){return e===t||vi(e,t,Li(t))}function rd(e,t,n){return n=typeof n=="function"?n:i,vi(e,t,Li(t),n)}function id(e){return bo(e)&&e!=+e}function sd(e){if(Wf(e))throw new D(C);return va(e)}function ad(e){return e===null}function od(e){return e==null}function bo(e){return typeof e=="number"||te(e)&&we(e)==un}function xn(e){if(!te(e)||we(e)!=ot)return!1;var t=Xn(e);if(t===null)return!0;var n=Y.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&Kn.call(n)==nh}var zi=Us?Se(Us):af;function ud(e){return Io(e)&&e>=-9007199254740991&&e<=G}var xo=Bs?Se(Bs):of;function Ar(e){return typeof e=="string"||!H(e)&&te(e)&&we(e)==hn}function Te(e){return typeof e=="symbol"||te(e)&&we(e)==Nn}var en=Fs?Se(Fs):uf;function cd(e){return e===i}function hd(e){return te(e)&&ve(e)==fn}function fd(e){return te(e)&&we(e)==bu}var ld=pr(mi),pd=pr(function(e,t){return e<=t});function Oo(e){if(!e)return[];if(Ie(e))return Ar(e)?Qe(e):Ae(e);if(dn&&e[dn])return zc(e[dn]());var t=ve(e),n=t==Ze?si:t==Xe?Wn:tn;return n(e)}function gt(e){if(!e)return e===0?e:0;if(e=ze(e),e===$||e===-1/0){var t=e<0?-1:1;return t*j}return e===e?e:0}function N(e){var t=gt(e),n=t%1;return t===t?n?t-n:t:0}function So(e){return e?$t(N(e),0,me):0}function ze(e){if(typeof e=="number")return e;if(Te(e))return q;if(ee(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=ee(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=Ys(e);var n=Yu.test(e);return n||Xu.test(e)?xc(e.slice(2),n?2:8):Ju.test(e)?q:+e}function Ro(e){return it(e,Ee(e))}function dd(e){return e?$t(N(e),-9007199254740991,G):e===0?e:0}function J(e){return e==null?"":Re(e)}var gd=jt(function(e,t){if(En(t)||Ie(t)){it(t,he(t),e);return}for(var n in t)Y.call(t,n)&&wn(e,n,t[n])}),To=jt(function(e,t){it(t,Ee(t),e)}),Ir=jt(function(e,t,n,s){it(t,Ee(t),e,s)}),vd=jt(function(e,t,n,s){it(t,he(t),e,s)}),_d=lt(fi);function md(e,t){var n=Qt(e);return t==null?n:ua(n,t)}var wd=U(function(e,t){e=Z(e);var n=-1,s=t.length,a=s>2?t[2]:i;for(a&&ye(t[0],t[1],a)&&(s=1);++n<s;)for(var u=t[n],h=Ee(u),f=-1,p=h.length;++f<p;){var m=h[f],w=e[m];(w===i||ke(w,Yt[m])&&!Y.call(e,m))&&(e[m]=u[m])}return e}),yd=U(function(e){return e.push(i,Ya),Oe(Do,i,e)});function Pd(e,t){return Gs(e,S(t,3),rt)}function Cd(e,t){return Gs(e,S(t,3),pi)}function Ad(e,t){return e==null?e:li(e,S(t,3),Ee)}function Id(e,t){return e==null?e:pa(e,S(t,3),Ee)}function Ed(e,t){return e&&rt(e,S(t,3))}function bd(e,t){return e&&pi(e,S(t,3))}function xd(e){return e==null?[]:sr(e,he(e))}function Od(e){return e==null?[]:sr(e,Ee(e))}function Ki(e,t,n){var s=e==null?i:Ht(e,t);return s===i?n:s}function Sd(e,t){return e!=null&&Qa(e,t,jh)}function Ji(e,t){return e!=null&&Qa(e,t,kh)}var Rd=Wa(function(e,t,n){t!=null&&typeof t.toString!="function"&&(t=Jn.call(t)),e[t]=n},Zi(be)),Td=Wa(function(e,t,n){t!=null&&typeof t.toString!="function"&&(t=Jn.call(t)),Y.call(e,t)?e[t].push(n):e[t]=[n]},S),Dd=U(Pn);function he(e){return Ie(e)?aa(e):_i(e)}function Ee(e){return Ie(e)?aa(e,!0):cf(e)}function Ld(e,t){var n={};return t=S(t,3),rt(e,function(s,a,u){ht(n,t(s,a,u),s)}),n}function $d(e,t){var n={};return t=S(t,3),rt(e,function(s,a,u){ht(n,a,t(s,a,u))}),n}var Hd=jt(function(e,t,n){ar(e,t,n)}),Do=jt(function(e,t,n,s){ar(e,t,n,s)}),Nd=lt(function(e,t){var n={};if(e==null)return n;var s=!1;t=V(t,function(u){return u=It(u,e),s||(s=u.length>1),u}),it(e,Ti(e),n),s&&(n=Fe(n,de|se|ce,Rf));for(var a=t.length;a--;)Ai(n,t[a]);return n});function Md(e,t){return Lo(e,Pr(S(t)))}var qd=lt(function(e,t){return e==null?{}:ff(e,t)});function Lo(e,t){if(e==null)return{};var n=V(Ti(e),function(s){return[s]});return t=S(t),Aa(e,n,function(s,a){return t(s,a[0])})}function Ud(e,t,n){t=It(t,e);var s=-1,a=t.length;for(a||(a=1,e=i);++s<a;){var u=e==null?i:e[st(t[s])];u===i&&(s=a,u=n),e=dt(u)?u.call(e):u}return e}function Bd(e,t,n){return e==null?e:An(e,t,n)}function Fd(e,t,n,s){return s=typeof s=="function"?s:i,e==null?e:An(e,t,n,s)}var $o=Ka(he),Ho=Ka(Ee);function Wd(e,t,n){var s=H(e),a=s||bt(e)||en(e);if(t=S(t,4),n==null){var u=e&&e.constructor;a?n=s?new u:[]:ee(e)?n=dt(u)?Qt(Xn(e)):{}:n={}}return(a?qe:rt)(e,function(h,f,p){return t(n,h,f,p)}),n}function Gd(e,t){return e==null?!0:Ai(e,t)}function zd(e,t,n){return e==null?e:Oa(e,t,bi(n))}function Kd(e,t,n,s){return s=typeof s=="function"?s:i,e==null?e:Oa(e,t,bi(n),s)}function tn(e){return e==null?[]:ii(e,he(e))}function Jd(e){return e==null?[]:ii(e,Ee(e))}function Yd(e,t,n){return n===i&&(n=t,t=i),n!==i&&(n=ze(n),n=n===n?n:0),t!==i&&(t=ze(t),t=t===t?t:0),$t(ze(e),t,n)}function Zd(e,t,n){return t=gt(t),n===i?(n=t,t=0):n=gt(n),e=ze(e),Vh(e,t,n)}function Xd(e,t,n){if(n&&typeof n!="boolean"&&ye(e,t,n)&&(t=n=i),n===i&&(typeof t=="boolean"?(n=t,t=i):typeof e=="boolean"&&(n=e,e=i)),e===i&&t===i?(e=0,t=1):(e=gt(e),t===i?(t=e,e=0):t=gt(t)),e>t){var s=e;e=t,t=s}if(n||e%1||t%1){var a=ia();return ge(e+a*(t-e+bc("1e-"+((a+"").length-1))),t)}return yi(e,t)}var Qd=kt(function(e,t,n){return t=t.toLowerCase(),e+(n?No(t):t)});function No(e){return Yi(J(e).toLowerCase())}function Mo(e){return e=J(e),e&&e.replace(ju,Uc).replace(vc,"")}function jd(e,t,n){e=J(e),t=Re(t);var s=e.length;n=n===i?s:$t(N(n),0,s);var a=n;return n-=t.length,n>=0&&e.slice(n,a)==t}function kd(e){return e=J(e),e&&Tu.test(e)?e.replace(ps,Bc):e}function Vd(e){return e=J(e),e&&Mu.test(e)?e.replace(Wr,"\\$&"):e}var eg=kt(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}),tg=kt(function(e,t,n){return e+(n?" ":"")+t.toLowerCase()}),ng=Ua("toLowerCase");function rg(e,t,n){e=J(e),t=N(t);var s=t?Kt(e):0;if(!t||s>=t)return e;var a=(t-s)/2;return lr(Vn(a),n)+e+lr(kn(a),n)}function ig(e,t,n){e=J(e),t=N(t);var s=t?Kt(e):0;return t&&s<t?e+lr(t-s,n):e}function sg(e,t,n){e=J(e),t=N(t);var s=t?Kt(e):0;return t&&s<t?lr(t-s,n)+e:e}function ag(e,t,n){return n||t==null?t=0:t&&(t=+t),lh(J(e).replace(Gr,""),t||0)}function og(e,t,n){return(n?ye(e,t,n):t===i)?t=1:t=N(t),Pi(J(e),t)}function ug(){var e=arguments,t=J(e[0]);return e.length<3?t:t.replace(e[1],e[2])}var cg=kt(function(e,t,n){return e+(n?"_":"")+t.toLowerCase()});function hg(e,t,n){return n&&typeof n!="number"&&ye(e,t,n)&&(t=n=i),n=n===i?me:n>>>0,n?(e=J(e),e&&(typeof t=="string"||t!=null&&!zi(t))&&(t=Re(t),!t&&zt(e))?Et(Qe(e),0,n):e.split(t,n)):[]}var fg=kt(function(e,t,n){return e+(n?" ":"")+Yi(t)});function lg(e,t,n){return e=J(e),n=n==null?0:$t(N(n),0,e.length),t=Re(t),e.slice(n,n+t.length)==t}function pg(e,t,n){var s=o.templateSettings;n&&ye(e,t,n)&&(t=i),e=J(e),t=Ir({},t,s,Ja);var a=Ir({},t.imports,s.imports,Ja),u=he(a),h=ii(a,u),f,p,m=0,w=t.interpolate||Mn,P="__p += '",E=ai((t.escape||Mn).source+"|"+w.source+"|"+(w===ds?Ku:Mn).source+"|"+(t.evaluate||Mn).source+"|$","g"),x="//# sourceURL="+(Y.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Pc+"]")+`
`;e.replace(E,function(T,B,W,De,Pe,Le){return W||(W=De),P+=e.slice(m,Le).replace(ku,Fc),B&&(f=!0,P+=`' +
__e(`+B+`) +
'`),Pe&&(p=!0,P+=`';
`+Pe+`;
__p += '`),W&&(P+=`' +
((__t = (`+W+`)) == null ? '' : __t) +
'`),m=Le+T.length,T}),P+=`';
`;var R=Y.call(t,"variable")&&t.variable;if(!R)P=`with (obj) {
`+P+`
}
`;else if(Gu.test(R))throw new D(O);P=(p?P.replace(xu,""):P).replace(Ou,"$1").replace(Su,"$1;"),P="function("+(R||"obj")+`) {
`+(R?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(f?", __e = _.escape":"")+(p?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+P+`return __p
}`;var M=Uo(function(){return K(u,x+"return "+P).apply(i,h)});if(M.source=P,Gi(M))throw M;return M}function dg(e){return J(e).toLowerCase()}function gg(e){return J(e).toUpperCase()}function vg(e,t,n){if(e=J(e),e&&(n||t===i))return Ys(e);if(!e||!(t=Re(t)))return e;var s=Qe(e),a=Qe(t),u=Zs(s,a),h=Xs(s,a)+1;return Et(s,u,h).join("")}function _g(e,t,n){if(e=J(e),e&&(n||t===i))return e.slice(0,js(e)+1);if(!e||!(t=Re(t)))return e;var s=Qe(e),a=Xs(s,Qe(t))+1;return Et(s,0,a).join("")}function mg(e,t,n){if(e=J(e),e&&(n||t===i))return e.replace(Gr,"");if(!e||!(t=Re(t)))return e;var s=Qe(e),a=Zs(s,Qe(t));return Et(s,a).join("")}function wg(e,t){var n=Rr,s=Tr;if(ee(t)){var a="separator"in t?t.separator:a;n="length"in t?N(t.length):n,s="omission"in t?Re(t.omission):s}e=J(e);var u=e.length;if(zt(e)){var h=Qe(e);u=h.length}if(n>=u)return e;var f=n-Kt(s);if(f<1)return s;var p=h?Et(h,0,f).join(""):e.slice(0,f);if(a===i)return p+s;if(h&&(f+=p.length-f),zi(a)){if(e.slice(f).search(a)){var m,w=p;for(a.global||(a=ai(a.source,J(gs.exec(a))+"g")),a.lastIndex=0;m=a.exec(w);)var P=m.index;p=p.slice(0,P===i?f:P)}}else if(e.indexOf(Re(a),f)!=f){var E=p.lastIndexOf(a);E>-1&&(p=p.slice(0,E))}return p+s}function yg(e){return e=J(e),e&&Ru.test(e)?e.replace(ls,Zc):e}var Pg=kt(function(e,t,n){return e+(n?" ":"")+t.toUpperCase()}),Yi=Ua("toUpperCase");function qo(e,t,n){return e=J(e),t=n?i:t,t===i?Gc(e)?jc(e):$c(e):e.match(t)||[]}var Uo=U(function(e,t){try{return Oe(e,i,t)}catch(n){return Gi(n)?n:new D(n)}}),Cg=lt(function(e,t){return qe(t,function(n){n=st(n),ht(e,n,Fi(e[n],e))}),e});function Ag(e){var t=e==null?0:e.length,n=S();return e=t?V(e,function(s){if(typeof s[1]!="function")throw new Ue(I);return[n(s[0]),s[1]]}):[],U(function(s){for(var a=-1;++a<t;){var u=e[a];if(Oe(u[0],this,s))return Oe(u[1],this,s)}})}function Ig(e){return Zh(Fe(e,de))}function Zi(e){return function(){return e}}function Eg(e,t){return e==null||e!==e?t:e}var bg=Fa(),xg=Fa(!0);function be(e){return e}function Xi(e){return _a(typeof e=="function"?e:Fe(e,de))}function Og(e){return wa(Fe(e,de))}function Sg(e,t){return ya(e,Fe(t,de))}var Rg=U(function(e,t){return function(n){return Pn(n,e,t)}}),Tg=U(function(e,t){return function(n){return Pn(e,n,t)}});function Qi(e,t,n){var s=he(t),a=sr(t,s);n==null&&!(ee(t)&&(a.length||!s.length))&&(n=t,t=e,e=this,a=sr(t,he(t)));var u=!(ee(n)&&"chain"in n)||!!n.chain,h=dt(e);return qe(a,function(f){var p=t[f];e[f]=p,h&&(e.prototype[f]=function(){var m=this.__chain__;if(u||m){var w=e(this.__wrapped__),P=w.__actions__=Ae(this.__actions__);return P.push({func:p,args:arguments,thisArg:e}),w.__chain__=m,w}return p.apply(e,wt([this.value()],arguments))})}),e}function Dg(){return fe._===this&&(fe._=rh),this}function ji(){}function Lg(e){return e=N(e),U(function(t){return Pa(t,e)})}var $g=Oi(V),Hg=Oi(Ws),Ng=Oi(Vr);function Bo(e){return Hi(e)?ei(st(e)):lf(e)}function Mg(e){return function(t){return e==null?i:Ht(e,t)}}var qg=Ga(),Ug=Ga(!0);function ki(){return[]}function Vi(){return!1}function Bg(){return{}}function Fg(){return""}function Wg(){return!0}function Gg(e,t){if(e=N(e),e<1||e>G)return[];var n=me,s=ge(e,me);t=S(t),e-=me;for(var a=ri(s,t);++n<e;)t(n);return a}function zg(e){return H(e)?V(e,st):Te(e)?[e]:Ae(so(J(e)))}function Kg(e){var t=++th;return J(e)+t}var Jg=fr(function(e,t){return e+t},0),Yg=Si("ceil"),Zg=fr(function(e,t){return e/t},1),Xg=Si("floor");function Qg(e){return e&&e.length?ir(e,be,di):i}function jg(e,t){return e&&e.length?ir(e,S(t,2),di):i}function kg(e){return Ks(e,be)}function Vg(e,t){return Ks(e,S(t,2))}function ev(e){return e&&e.length?ir(e,be,mi):i}function tv(e,t){return e&&e.length?ir(e,S(t,2),mi):i}var nv=fr(function(e,t){return e*t},1),rv=Si("round"),iv=fr(function(e,t){return e-t},0);function sv(e){return e&&e.length?ni(e,be):0}function av(e,t){return e&&e.length?ni(e,S(t,2)):0}return o.after=Op,o.ary=_o,o.assign=gd,o.assignIn=To,o.assignInWith=Ir,o.assignWith=vd,o.at=_d,o.before=mo,o.bind=Fi,o.bindAll=Cg,o.bindKey=wo,o.castArray=Bp,o.chain=po,o.chunk=Xf,o.compact=Qf,o.concat=jf,o.cond=Ag,o.conforms=Ig,o.constant=Zi,o.countBy=sp,o.create=md,o.curry=yo,o.curryRight=Po,o.debounce=Co,o.defaults=wd,o.defaultsDeep=yd,o.defer=Sp,o.delay=Rp,o.difference=kf,o.differenceBy=Vf,o.differenceWith=el,o.drop=tl,o.dropRight=nl,o.dropRightWhile=rl,o.dropWhile=il,o.fill=sl,o.filter=op,o.flatMap=hp,o.flatMapDeep=fp,o.flatMapDepth=lp,o.flatten=co,o.flattenDeep=al,o.flattenDepth=ol,o.flip=Tp,o.flow=bg,o.flowRight=xg,o.fromPairs=ul,o.functions=xd,o.functionsIn=Od,o.groupBy=pp,o.initial=hl,o.intersection=fl,o.intersectionBy=ll,o.intersectionWith=pl,o.invert=Rd,o.invertBy=Td,o.invokeMap=gp,o.iteratee=Xi,o.keyBy=vp,o.keys=he,o.keysIn=Ee,o.map=mr,o.mapKeys=Ld,o.mapValues=$d,o.matches=Og,o.matchesProperty=Sg,o.memoize=yr,o.merge=Hd,o.mergeWith=Do,o.method=Rg,o.methodOf=Tg,o.mixin=Qi,o.negate=Pr,o.nthArg=Lg,o.omit=Nd,o.omitBy=Md,o.once=Dp,o.orderBy=_p,o.over=$g,o.overArgs=Lp,o.overEvery=Hg,o.overSome=Ng,o.partial=Wi,o.partialRight=Ao,o.partition=mp,o.pick=qd,o.pickBy=Lo,o.property=Bo,o.propertyOf=Mg,o.pull=_l,o.pullAll=fo,o.pullAllBy=ml,o.pullAllWith=wl,o.pullAt=yl,o.range=qg,o.rangeRight=Ug,o.rearg=$p,o.reject=Pp,o.remove=Pl,o.rest=Hp,o.reverse=Ui,o.sampleSize=Ap,o.set=Bd,o.setWith=Fd,o.shuffle=Ip,o.slice=Cl,o.sortBy=xp,o.sortedUniq=Sl,o.sortedUniqBy=Rl,o.split=hg,o.spread=Np,o.tail=Tl,o.take=Dl,o.takeRight=Ll,o.takeRightWhile=$l,o.takeWhile=Hl,o.tap=Ql,o.throttle=Mp,o.thru=_r,o.toArray=Oo,o.toPairs=$o,o.toPairsIn=Ho,o.toPath=zg,o.toPlainObject=Ro,o.transform=Wd,o.unary=qp,o.union=Nl,o.unionBy=Ml,o.unionWith=ql,o.uniq=Ul,o.uniqBy=Bl,o.uniqWith=Fl,o.unset=Gd,o.unzip=Bi,o.unzipWith=lo,o.update=zd,o.updateWith=Kd,o.values=tn,o.valuesIn=Jd,o.without=Wl,o.words=qo,o.wrap=Up,o.xor=Gl,o.xorBy=zl,o.xorWith=Kl,o.zip=Jl,o.zipObject=Yl,o.zipObjectDeep=Zl,o.zipWith=Xl,o.entries=$o,o.entriesIn=Ho,o.extend=To,o.extendWith=Ir,Qi(o,o),o.add=Jg,o.attempt=Uo,o.camelCase=Qd,o.capitalize=No,o.ceil=Yg,o.clamp=Yd,o.clone=Fp,o.cloneDeep=Gp,o.cloneDeepWith=zp,o.cloneWith=Wp,o.conformsTo=Kp,o.deburr=Mo,o.defaultTo=Eg,o.divide=Zg,o.endsWith=jd,o.eq=ke,o.escape=kd,o.escapeRegExp=Vd,o.every=ap,o.find=up,o.findIndex=oo,o.findKey=Pd,o.findLast=cp,o.findLastIndex=uo,o.findLastKey=Cd,o.floor=Xg,o.forEach=go,o.forEachRight=vo,o.forIn=Ad,o.forInRight=Id,o.forOwn=Ed,o.forOwnRight=bd,o.get=Ki,o.gt=Jp,o.gte=Yp,o.has=Sd,o.hasIn=Ji,o.head=ho,o.identity=be,o.includes=dp,o.indexOf=cl,o.inRange=Zd,o.invoke=Dd,o.isArguments=qt,o.isArray=H,o.isArrayBuffer=Zp,o.isArrayLike=Ie,o.isArrayLikeObject=re,o.isBoolean=Xp,o.isBuffer=bt,o.isDate=Qp,o.isElement=jp,o.isEmpty=kp,o.isEqual=Vp,o.isEqualWith=ed,o.isError=Gi,o.isFinite=td,o.isFunction=dt,o.isInteger=Io,o.isLength=Cr,o.isMap=Eo,o.isMatch=nd,o.isMatchWith=rd,o.isNaN=id,o.isNative=sd,o.isNil=od,o.isNull=ad,o.isNumber=bo,o.isObject=ee,o.isObjectLike=te,o.isPlainObject=xn,o.isRegExp=zi,o.isSafeInteger=ud,o.isSet=xo,o.isString=Ar,o.isSymbol=Te,o.isTypedArray=en,o.isUndefined=cd,o.isWeakMap=hd,o.isWeakSet=fd,o.join=dl,o.kebabCase=eg,o.last=Ge,o.lastIndexOf=gl,o.lowerCase=tg,o.lowerFirst=ng,o.lt=ld,o.lte=pd,o.max=Qg,o.maxBy=jg,o.mean=kg,o.meanBy=Vg,o.min=ev,o.minBy=tv,o.stubArray=ki,o.stubFalse=Vi,o.stubObject=Bg,o.stubString=Fg,o.stubTrue=Wg,o.multiply=nv,o.nth=vl,o.noConflict=Dg,o.noop=ji,o.now=wr,o.pad=rg,o.padEnd=ig,o.padStart=sg,o.parseInt=ag,o.random=Xd,o.reduce=wp,o.reduceRight=yp,o.repeat=og,o.replace=ug,o.result=Ud,o.round=rv,o.runInContext=l,o.sample=Cp,o.size=Ep,o.snakeCase=cg,o.some=bp,o.sortedIndex=Al,o.sortedIndexBy=Il,o.sortedIndexOf=El,o.sortedLastIndex=bl,o.sortedLastIndexBy=xl,o.sortedLastIndexOf=Ol,o.startCase=fg,o.startsWith=lg,o.subtract=iv,o.sum=sv,o.sumBy=av,o.template=pg,o.times=Gg,o.toFinite=gt,o.toInteger=N,o.toLength=So,o.toLower=dg,o.toNumber=ze,o.toSafeInteger=dd,o.toString=J,o.toUpper=gg,o.trim=vg,o.trimEnd=_g,o.trimStart=mg,o.truncate=wg,o.unescape=yg,o.uniqueId=Kg,o.upperCase=Pg,o.upperFirst=Yi,o.each=go,o.eachRight=vo,o.first=ho,Qi(o,function(){var e={};return rt(o,function(t,n){Y.call(o.prototype,n)||(e[n]=t)}),e}(),{chain:!1}),o.VERSION=c,qe(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){o[e].placeholder=o}),qe(["drop","take"],function(e,t){F.prototype[e]=function(n){n=n===i?1:ue(N(n),0);var s=this.__filtered__&&!t?new F(this):this.clone();return s.__filtered__?s.__takeCount__=ge(n,s.__takeCount__):s.__views__.push({size:ge(n,me),type:e+(s.__dir__<0?"Right":"")}),s},F.prototype[e+"Right"]=function(n){return this.reverse()[e](n).reverse()}}),qe(["filter","map","takeWhile"],function(e,t){var n=t+1,s=n==Bt||n==A;F.prototype[e]=function(a){var u=this.clone();return u.__iteratees__.push({iteratee:S(a,3),type:n}),u.__filtered__=u.__filtered__||s,u}}),qe(["head","last"],function(e,t){var n="take"+(t?"Right":"");F.prototype[e]=function(){return this[n](1).value()[0]}}),qe(["initial","tail"],function(e,t){var n="drop"+(t?"":"Right");F.prototype[e]=function(){return this.__filtered__?new F(this):this[n](1)}}),F.prototype.compact=function(){return this.filter(be)},F.prototype.find=function(e){return this.filter(e).head()},F.prototype.findLast=function(e){return this.reverse().find(e)},F.prototype.invokeMap=U(function(e,t){return typeof e=="function"?new F(this):this.map(function(n){return Pn(n,e,t)})}),F.prototype.reject=function(e){return this.filter(Pr(S(e)))},F.prototype.slice=function(e,t){e=N(e);var n=this;return n.__filtered__&&(e>0||t<0)?new F(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==i&&(t=N(t),n=t<0?n.dropRight(-t):n.take(t-e)),n)},F.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},F.prototype.toArray=function(){return this.take(me)},rt(F.prototype,function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),s=/^(?:head|last)$/.test(t),a=o[s?"take"+(t=="last"?"Right":""):t],u=s||/^find/.test(t);a&&(o.prototype[t]=function(){var h=this.__wrapped__,f=s?[1]:arguments,p=h instanceof F,m=f[0],w=p||H(h),P=function(B){var W=a.apply(o,wt([B],f));return s&&E?W[0]:W};w&&n&&typeof m=="function"&&m.length!=1&&(p=w=!1);var E=this.__chain__,x=!!this.__actions__.length,R=u&&!E,M=p&&!x;if(!u&&w){h=M?h:new F(this);var T=e.apply(h,f);return T.__actions__.push({func:_r,args:[P],thisArg:i}),new Be(T,E)}return R&&M?e.apply(this,f):(T=this.thru(P),R?s?T.value()[0]:T.value():T)})}),qe(["pop","push","shift","sort","splice","unshift"],function(e){var t=Gn[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",s=/^(?:pop|shift)$/.test(e);o.prototype[e]=function(){var a=arguments;if(s&&!this.__chain__){var u=this.value();return t.apply(H(u)?u:[],a)}return this[n](function(h){return t.apply(H(h)?h:[],a)})}}),rt(F.prototype,function(e,t){var n=o[t];if(n){var s=n.name+"";Y.call(Xt,s)||(Xt[s]=[]),Xt[s].push({name:t,func:n})}}),Xt[hr(i,at).name]=[{name:"wrapper",func:i}],F.prototype.clone=wh,F.prototype.reverse=yh,F.prototype.value=Ph,o.prototype.at=jl,o.prototype.chain=kl,o.prototype.commit=Vl,o.prototype.next=ep,o.prototype.plant=np,o.prototype.reverse=rp,o.prototype.toJSON=o.prototype.valueOf=o.prototype.value=ip,o.prototype.first=o.prototype.head,dn&&(o.prototype[dn]=tp),o},Jt=kc();Rt?((Rt.exports=Jt)._=Jt,Xr._=Jt):fe._=Jt}).call(yv)}(Sn,Sn.exports)),Sn.exports}var Cv=Pv(),Er={exports:{}},Jo;function Av(){return Jo||(Jo=1,function(y,r){var i=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof xt<"u"&&xt,c=function(){function C(){this.fetch=!1,this.DOMException=i.DOMException}return C.prototype=i,new C}();(function(C){(function(I){var O=typeof C<"u"&&C||typeof self<"u"&&self||typeof xt<"u"&&xt||{},L={searchParams:"URLSearchParams"in O,iterable:"Symbol"in O&&"iterator"in Symbol,blob:"FileReader"in O&&"Blob"in O&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in O,arrayBuffer:"ArrayBuffer"in O};function ne(v){return v&&DataView.prototype.isPrototypeOf(v)}if(L.arrayBuffer)var pe=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],de=ArrayBuffer.isView||function(v){return v&&pe.indexOf(Object.prototype.toString.call(v))>-1};function se(v){if(typeof v!="string"&&(v=String(v)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(v)||v==="")throw new TypeError('Invalid character in header field name: "'+v+'"');return v.toLowerCase()}function ce(v){return typeof v!="string"&&(v=String(v)),v}function nt(v){var A={next:function(){var $=v.shift();return{done:$===void 0,value:$}}};return L.iterable&&(A[Symbol.iterator]=function(){return A}),A}function Q(v){this.map={},v instanceof Q?v.forEach(function(A,$){this.append($,A)},this):Array.isArray(v)?v.forEach(function(A){if(A.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+A.length);this.append(A[0],A[1])},this):v&&Object.getOwnPropertyNames(v).forEach(function(A){this.append(A,v[A])},this)}Q.prototype.append=function(v,A){v=se(v),A=ce(A);var $=this.map[v];this.map[v]=$?$+", "+A:A},Q.prototype.delete=function(v){delete this.map[se(v)]},Q.prototype.get=function(v){return v=se(v),this.has(v)?this.map[v]:null},Q.prototype.has=function(v){return this.map.hasOwnProperty(se(v))},Q.prototype.set=function(v,A){this.map[se(v)]=ce(A)},Q.prototype.forEach=function(v,A){for(var $ in this.map)this.map.hasOwnProperty($)&&v.call(A,this.map[$],$,this)},Q.prototype.keys=function(){var v=[];return this.forEach(function(A,$){v.push($)}),nt(v)},Q.prototype.values=function(){var v=[];return this.forEach(function(A){v.push(A)}),nt(v)},Q.prototype.entries=function(){var v=[];return this.forEach(function(A,$){v.push([$,A])}),nt(v)},L.iterable&&(Q.prototype[Symbol.iterator]=Q.prototype.entries);function _e(v){if(!v._noBody){if(v.bodyUsed)return Promise.reject(new TypeError("Already read"));v.bodyUsed=!0}}function at(v){return new Promise(function(A,$){v.onload=function(){A(v.result)},v.onerror=function(){$(v.error)}})}function Tn(v){var A=new FileReader,$=at(A);return A.readAsArrayBuffer(v),$}function Je(v){var A=new FileReader,$=at(A),G=/charset=([A-Za-z0-9_-]+)/.exec(v.type),j=G?G[1]:"utf-8";return A.readAsText(v,j),$}function Ot(v){for(var A=new Uint8Array(v),$=new Array(A.length),G=0;G<A.length;G++)$[G]=String.fromCharCode(A[G]);return $.join("")}function He(v){if(v.slice)return v.slice(0);var A=new Uint8Array(v.byteLength);return A.set(new Uint8Array(v)),A.buffer}function _t(){return this.bodyUsed=!1,this._initBody=function(v){this.bodyUsed=this.bodyUsed,this._bodyInit=v,v?typeof v=="string"?this._bodyText=v:L.blob&&Blob.prototype.isPrototypeOf(v)?this._bodyBlob=v:L.formData&&FormData.prototype.isPrototypeOf(v)?this._bodyFormData=v:L.searchParams&&URLSearchParams.prototype.isPrototypeOf(v)?this._bodyText=v.toString():L.arrayBuffer&&L.blob&&ne(v)?(this._bodyArrayBuffer=He(v.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):L.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(v)||de(v))?this._bodyArrayBuffer=He(v):this._bodyText=v=Object.prototype.toString.call(v):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof v=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):L.searchParams&&URLSearchParams.prototype.isPrototypeOf(v)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},L.blob&&(this.blob=function(){var v=_e(this);if(v)return v;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var v=_e(this);return v||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(L.blob)return this.blob().then(Tn);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var v=_e(this);if(v)return v;if(this._bodyBlob)return Je(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(Ot(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},L.formData&&(this.formData=function(){return this.text().then(Rr)}),this.json=function(){return this.text().then(JSON.parse)},this}var Ye=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function St(v){var A=v.toUpperCase();return Ye.indexOf(A)>-1?A:v}function Ne(v,A){if(!(this instanceof Ne))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');A=A||{};var $=A.body;if(v instanceof Ne){if(v.bodyUsed)throw new TypeError("Already read");this.url=v.url,this.credentials=v.credentials,A.headers||(this.headers=new Q(v.headers)),this.method=v.method,this.mode=v.mode,this.signal=v.signal,!$&&v._bodyInit!=null&&($=v._bodyInit,v.bodyUsed=!0)}else this.url=String(v);if(this.credentials=A.credentials||this.credentials||"same-origin",(A.headers||!this.headers)&&(this.headers=new Q(A.headers)),this.method=St(A.method||this.method||"GET"),this.mode=A.mode||this.mode||null,this.signal=A.signal||this.signal||function(){if("AbortController"in O){var q=new AbortController;return q.signal}}(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&$)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody($),(this.method==="GET"||this.method==="HEAD")&&(A.cache==="no-store"||A.cache==="no-cache")){var G=/([?&])_=[^&]*/;if(G.test(this.url))this.url=this.url.replace(G,"$1_="+new Date().getTime());else{var j=/\?/;this.url+=(j.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}Ne.prototype.clone=function(){return new Ne(this,{body:this._bodyInit})};function Rr(v){var A=new FormData;return v.trim().split("&").forEach(function($){if($){var G=$.split("="),j=G.shift().replace(/\+/g," "),q=G.join("=").replace(/\+/g," ");A.append(decodeURIComponent(j),decodeURIComponent(q))}}),A}function Tr(v){var A=new Q,$=v.replace(/\r?\n[\t ]+/g," ");return $.split("\r").map(function(G){return G.indexOf(`
`)===0?G.substr(1,G.length):G}).forEach(function(G){var j=G.split(":"),q=j.shift().trim();if(q){var me=j.join(":").trim();try{A.append(q,me)}catch(sn){console.warn("Response "+sn.message)}}}),A}_t.call(Ne.prototype);function xe(v,A){if(!(this instanceof xe))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(A||(A={}),this.type="default",this.status=A.status===void 0?200:A.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=A.statusText===void 0?"":""+A.statusText,this.headers=new Q(A.headers),this.url=A.url||"",this._initBody(v)}_t.call(xe.prototype),xe.prototype.clone=function(){return new xe(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new Q(this.headers),url:this.url})},xe.error=function(){var v=new xe(null,{status:200,statusText:""});return v.ok=!1,v.status=0,v.type="error",v};var Dr=[301,302,303,307,308];xe.redirect=function(v,A){if(Dr.indexOf(A)===-1)throw new RangeError("Invalid status code");return new xe(null,{status:A,headers:{location:v}})},I.DOMException=O.DOMException;try{new I.DOMException}catch{I.DOMException=function(A,$){this.message=A,this.name=$;var G=Error(A);this.stack=G.stack},I.DOMException.prototype=Object.create(Error.prototype),I.DOMException.prototype.constructor=I.DOMException}function Bt(v,A){return new Promise(function($,G){var j=new Ne(v,A);if(j.signal&&j.signal.aborted)return G(new I.DOMException("Aborted","AbortError"));var q=new XMLHttpRequest;function me(){q.abort()}q.onload=function(){var ae={statusText:q.statusText,headers:Tr(q.getAllResponseHeaders()||"")};j.url.indexOf("file://")===0&&(q.status<200||q.status>599)?ae.status=200:ae.status=q.status,ae.url="responseURL"in q?q.responseURL:ae.headers.get("X-Request-URL");var Ce="response"in q?q.response:q.responseText;setTimeout(function(){$(new xe(Ce,ae))},0)},q.onerror=function(){setTimeout(function(){G(new TypeError("Network request failed"))},0)},q.ontimeout=function(){setTimeout(function(){G(new TypeError("Network request timed out"))},0)},q.onabort=function(){setTimeout(function(){G(new I.DOMException("Aborted","AbortError"))},0)};function sn(ae){try{return ae===""&&O.location.href?O.location.href:ae}catch{return ae}}if(q.open(j.method,sn(j.url),!0),j.credentials==="include"?q.withCredentials=!0:j.credentials==="omit"&&(q.withCredentials=!1),"responseType"in q&&(L.blob?q.responseType="blob":L.arrayBuffer&&(q.responseType="arraybuffer")),A&&typeof A.headers=="object"&&!(A.headers instanceof Q||O.Headers&&A.headers instanceof O.Headers)){var Dn=[];Object.getOwnPropertyNames(A.headers).forEach(function(ae){Dn.push(se(ae)),q.setRequestHeader(ae,ce(A.headers[ae]))}),j.headers.forEach(function(ae,Ce){Dn.indexOf(Ce)===-1&&q.setRequestHeader(Ce,ae)})}else j.headers.forEach(function(ae,Ce){q.setRequestHeader(Ce,ae)});j.signal&&(j.signal.addEventListener("abort",me),q.onreadystatechange=function(){q.readyState===4&&j.signal.removeEventListener("abort",me)}),q.send(typeof j._bodyInit>"u"?null:j._bodyInit)})}return Bt.polyfill=!0,O.fetch||(O.fetch=Bt,O.Headers=Q,O.Request=Ne,O.Response=xe),I.Headers=Q,I.Request=Ne,I.Response=xe,I.fetch=Bt,Object.defineProperty(I,"__esModule",{value:!0}),I})({})})(c),c.fetch.ponyfill=!0,delete c.fetch.polyfill;var d=i.fetch?i:c;r=d.fetch,r.default=d.fetch,r.fetch=d.fetch,r.Headers=d.Headers,r.Request=d.Request,r.Response=d.Response,y.exports=r}(Er,Er.exports)),Er.exports}var Iv=Av();const Yo=ov(Iv);var Ev=Object.defineProperty,bv=Object.defineProperties,xv=Object.getOwnPropertyDescriptors,Zo=Object.getOwnPropertySymbols,Ov=Object.prototype.hasOwnProperty,Sv=Object.prototype.propertyIsEnumerable,Xo=(y,r,i)=>r in y?Ev(y,r,{enumerable:!0,configurable:!0,writable:!0,value:i}):y[r]=i,Qo=(y,r)=>{for(var i in r)Ov.call(r,i)&&Xo(y,i,r[i]);if(Zo)for(var i of Zo(r))Sv.call(r,i)&&Xo(y,i,r[i]);return y},jo=(y,r)=>bv(y,xv(r));const Rv={Accept:"application/json","Content-Type":"application/json"},Tv="POST",ko={headers:Rv,method:Tv},Vo=10;let tt=class{constructor(r,i=!1){if(this.url=r,this.disableProviderPing=i,this.events=new du.EventEmitter,this.isAvailable=!1,this.registering=!1,!Wo(r))throw new Error(`Provided URL is not compatible with HTTP connection: ${r}`);this.url=r,this.disableProviderPing=i}get connected(){return this.isAvailable}get connecting(){return this.registering}on(r,i){this.events.on(r,i)}once(r,i){this.events.once(r,i)}off(r,i){this.events.off(r,i)}removeListener(r,i){this.events.removeListener(r,i)}async open(r=this.url){await this.register(r)}async close(){if(!this.isAvailable)throw new Error("Connection already closed");this.onClose()}async send(r){this.isAvailable||await this.register();try{const i=Go(r),c=await(await Yo(this.url,jo(Qo({},ko),{body:i}))).json();this.onPayload({data:c})}catch(i){this.onError(r.id,i)}}async register(r=this.url){if(!Wo(r))throw new Error(`Provided URL is not compatible with HTTP connection: ${r}`);if(this.registering){const i=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=i||this.events.listenerCount("open")>=i)&&this.events.setMaxListeners(i+1),new Promise((c,d)=>{this.events.once("register_error",C=>{this.resetMaxListeners(),d(C)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.isAvailable>"u")return d(new Error("HTTP connection is missing or invalid"));c()})})}this.url=r,this.registering=!0;try{if(!this.disableProviderPing){const i=Go({id:1,jsonrpc:"2.0",method:"test",params:[]});await Yo(r,jo(Qo({},ko),{body:i}))}this.onOpen()}catch(i){const c=this.parseError(i);throw this.events.emit("register_error",c),this.onClose(),c}}onOpen(){this.isAvailable=!0,this.registering=!1,this.events.emit("open")}onClose(){this.isAvailable=!1,this.registering=!1,this.events.emit("close")}onPayload(r){if(typeof r.data>"u")return;const i=typeof r.data=="string"?cv(r.data):r.data;this.events.emit("payload",i)}onError(r,i){const c=this.parseError(i),d=c.message||c.toString(),C=hv(r,d);this.events.emit("payload",C)}parseError(r,i=this.url){return fv(r,i,"HTTP")}resetMaxListeners(){this.events.getMaxListeners()>Vo&&this.events.setMaxListeners(Vo)}};const eu="error",Dv="wss://relay.walletconnect.org",Lv="wc",$v="universal_provider",tu=`${Lv}@2:${$v}:`,_u="https://rpc.walletconnect.org/v1/",nn="generic",Hv=`${_u}bundler`,Ke={DEFAULT_CHAIN_CHANGED:"default_chain_changed"};var Nv=Object.defineProperty,Mv=Object.defineProperties,qv=Object.getOwnPropertyDescriptors,nu=Object.getOwnPropertySymbols,Uv=Object.prototype.hasOwnProperty,Bv=Object.prototype.propertyIsEnumerable,ru=(y,r,i)=>r in y?Nv(y,r,{enumerable:!0,configurable:!0,writable:!0,value:i}):y[r]=i,br=(y,r)=>{for(var i in r||(r={}))Uv.call(r,i)&&ru(y,i,r[i]);if(nu)for(var i of nu(r))Bv.call(r,i)&&ru(y,i,r[i]);return y},Fv=(y,r)=>Mv(y,qv(r));function $e(y,r,i){var c;const d=vu(y);return((c=r.rpcMap)==null?void 0:c[d.reference])||`${_u}?chainId=${d.namespace}:${d.reference}&projectId=${i}`}function Ut(y){return y.includes(":")?y.split(":")[1]:y}function mu(y){return y.map(r=>`${r.split(":")[0]}:${r.split(":")[1]}`)}function Wv(y,r){const i=Object.keys(r.namespaces).filter(d=>d.includes(y));if(!i.length)return[];const c=[];return i.forEach(d=>{const C=r.namespaces[d].accounts;c.push(...C)}),c}function ts(y={},r={}){const i=iu(y),c=iu(r);return Cv.merge(i,c)}function iu(y){var r,i,c,d;const C={};if(!mv(y))return C;for(const[I,O]of Object.entries(y)){const L=gu(I)?[I]:O.chains,ne=O.methods||[],pe=O.events||[],de=O.rpcMap||{},se=On(I);C[se]=Fv(br(br({},C[se]),O),{chains:es(L,(r=C[se])==null?void 0:r.chains),methods:es(ne,(i=C[se])==null?void 0:i.methods),events:es(pe,(c=C[se])==null?void 0:c.events),rpcMap:br(br({},de),(d=C[se])==null?void 0:d.rpcMap)})}return C}function Gv(y){return y.includes(":")?y.split(":")[2]:y}function su(y){const r={};for(const[i,c]of Object.entries(y)){const d=c.methods||[],C=c.events||[],I=c.accounts||[],O=gu(i)?[i]:c.chains?c.chains:mu(c.accounts);r[i]={chains:O,methods:d,events:C,accounts:I}}return r}function ns(y){return typeof y=="number"?y:y.includes("0x")?parseInt(y,16):(y=y.includes(":")?y.split(":")[1]:y,isNaN(Number(y))?y:Number(y))}const wu={},z=y=>wu[y],rs=(y,r)=>{wu[y]=r};class zv{constructor(r){this.name="polkadot",this.namespace=r.namespace,this.events=z("events"),this.client=z("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(r){this.namespace=Object.assign(this.namespace,r)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const r=this.namespace.chains[0];if(!r)throw new Error("ChainId not found");return r.split(":")[1]}request(r){return this.namespace.methods.includes(r.request.method)?this.client.request(r):this.getHttpProvider().request(r.request)}setDefaultChain(r,i){this.httpProviders[r]||this.setHttpProvider(r,i),this.chainId=r,this.events.emit(Ke.DEFAULT_CHAIN_CHANGED,`${this.name}:${r}`)}getAccounts(){const r=this.namespace.accounts;return r?r.filter(i=>i.split(":")[1]===this.chainId.toString()).map(i=>i.split(":")[2])||[]:[]}createHttpProviders(){const r={};return this.namespace.chains.forEach(i=>{var c;const d=Ut(i);r[d]=this.createHttpProvider(d,(c=this.namespace.rpcMap)==null?void 0:c[i])}),r}getHttpProvider(){const r=`${this.name}:${this.chainId}`,i=this.httpProviders[r];if(typeof i>"u")throw new Error(`JSON-RPC provider for ${r} not found`);return i}setHttpProvider(r,i){const c=this.createHttpProvider(r,i);c&&(this.httpProviders[r]=c)}createHttpProvider(r,i){const c=i||$e(r,this.namespace,this.client.core.projectId);if(!c)throw new Error(`No RPC url provided for chainId: ${r}`);return new et(new tt(c,z("disableProviderPing")))}}var Kv=Object.defineProperty,Jv=Object.defineProperties,Yv=Object.getOwnPropertyDescriptors,au=Object.getOwnPropertySymbols,Zv=Object.prototype.hasOwnProperty,Xv=Object.prototype.propertyIsEnumerable,ou=(y,r,i)=>r in y?Kv(y,r,{enumerable:!0,configurable:!0,writable:!0,value:i}):y[r]=i,uu=(y,r)=>{for(var i in r||(r={}))Zv.call(r,i)&&ou(y,i,r[i]);if(au)for(var i of au(r))Xv.call(r,i)&&ou(y,i,r[i]);return y},cu=(y,r)=>Jv(y,Yv(r));class Qv{constructor(r){this.name="eip155",this.namespace=r.namespace,this.events=z("events"),this.client=z("client"),this.httpProviders=this.createHttpProviders(),this.chainId=parseInt(this.getDefaultChain())}async request(r){switch(r.request.method){case"eth_requestAccounts":return this.getAccounts();case"eth_accounts":return this.getAccounts();case"wallet_switchEthereumChain":return await this.handleSwitchChain(r);case"eth_chainId":return parseInt(this.getDefaultChain());case"wallet_getCapabilities":return await this.getCapabilities(r);case"wallet_getCallsStatus":return await this.getCallStatus(r)}return this.namespace.methods.includes(r.request.method)?await this.client.request(r):this.getHttpProvider().request(r.request)}updateNamespace(r){this.namespace=Object.assign(this.namespace,r)}setDefaultChain(r,i){this.httpProviders[r]||this.setHttpProvider(parseInt(r),i),this.chainId=parseInt(r),this.events.emit(Ke.DEFAULT_CHAIN_CHANGED,`${this.name}:${r}`)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId.toString();if(this.namespace.defaultChain)return this.namespace.defaultChain;const r=this.namespace.chains[0];if(!r)throw new Error("ChainId not found");return r.split(":")[1]}createHttpProvider(r,i){const c=i||$e(`${this.name}:${r}`,this.namespace,this.client.core.projectId);if(!c)throw new Error(`No RPC url provided for chainId: ${r}`);return new et(new tt(c,z("disableProviderPing")))}setHttpProvider(r,i){const c=this.createHttpProvider(r,i);c&&(this.httpProviders[r]=c)}createHttpProviders(){const r={};return this.namespace.chains.forEach(i=>{var c;const d=parseInt(Ut(i));r[d]=this.createHttpProvider(d,(c=this.namespace.rpcMap)==null?void 0:c[i])}),r}getAccounts(){const r=this.namespace.accounts;return r?[...new Set(r.filter(i=>i.split(":")[1]===this.chainId.toString()).map(i=>i.split(":")[2]))]:[]}getHttpProvider(){const r=this.chainId,i=this.httpProviders[r];if(typeof i>"u")throw new Error(`JSON-RPC provider for ${r} not found`);return i}async handleSwitchChain(r){var i,c;let d=r.request.params?(i=r.request.params[0])==null?void 0:i.chainId:"0x0";d=d.startsWith("0x")?d:`0x${d}`;const C=parseInt(d,16);if(this.isChainApproved(C))this.setDefaultChain(`${C}`);else if(this.namespace.methods.includes("wallet_switchEthereumChain"))await this.client.request({topic:r.topic,request:{method:r.request.method,params:[{chainId:d}]},chainId:(c=this.namespace.chains)==null?void 0:c[0]}),this.setDefaultChain(`${C}`);else throw new Error(`Failed to switch to chain 'eip155:${C}'. The chain is not approved or the wallet does not support 'wallet_switchEthereumChain' method.`);return null}isChainApproved(r){return this.namespace.chains.includes(`${this.name}:${r}`)}async getCapabilities(r){var i,c,d;const C=(c=(i=r.request)==null?void 0:i.params)==null?void 0:c[0];if(!C)throw new Error("Missing address parameter in `wallet_getCapabilities` request");const I=this.client.session.get(r.topic),O=((d=I==null?void 0:I.sessionProperties)==null?void 0:d.capabilities)||{};if(O!=null&&O[C])return O==null?void 0:O[C];const L=await this.client.request(r);try{await this.client.session.update(r.topic,{sessionProperties:cu(uu({},I.sessionProperties||{}),{capabilities:cu(uu({},O||{}),{[C]:L})})})}catch(ne){console.warn("Failed to update session with capabilities",ne)}return L}async getCallStatus(r){var i,c;const d=this.client.session.get(r.topic),C=(i=d.sessionProperties)==null?void 0:i.bundler_name;if(C){const O=this.getBundlerUrl(r.chainId,C);try{return await this.getUserOperationReceipt(O,r)}catch(L){console.warn("Failed to fetch call status from bundler",L,O)}}const I=(c=d.sessionProperties)==null?void 0:c.bundler_url;if(I)try{return await this.getUserOperationReceipt(I,r)}catch(O){console.warn("Failed to fetch call status from custom bundler",O,I)}if(this.namespace.methods.includes(r.request.method))return await this.client.request(r);throw new Error("Fetching call status not approved by the wallet.")}async getUserOperationReceipt(r,i){var c;const d=new URL(r),C=await fetch(d,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(wv("eth_getUserOperationReceipt",[(c=i.request.params)==null?void 0:c[0]]))});if(!C.ok)throw new Error(`Failed to fetch user operation receipt - ${C.status}`);return await C.json()}getBundlerUrl(r,i){return`${Hv}?projectId=${this.client.core.projectId}&chainId=${r}&bundler=${i}`}}class jv{constructor(r){this.name="solana",this.namespace=r.namespace,this.events=z("events"),this.client=z("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(r){this.namespace=Object.assign(this.namespace,r)}requestAccounts(){return this.getAccounts()}request(r){return this.namespace.methods.includes(r.request.method)?this.client.request(r):this.getHttpProvider().request(r.request)}setDefaultChain(r,i){this.httpProviders[r]||this.setHttpProvider(r,i),this.chainId=r,this.events.emit(Ke.DEFAULT_CHAIN_CHANGED,`${this.name}:${r}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const r=this.namespace.chains[0];if(!r)throw new Error("ChainId not found");return r.split(":")[1]}getAccounts(){const r=this.namespace.accounts;return r?[...new Set(r.filter(i=>i.split(":")[1]===this.chainId.toString()).map(i=>i.split(":")[2]))]:[]}createHttpProviders(){const r={};return this.namespace.chains.forEach(i=>{var c;const d=Ut(i);r[d]=this.createHttpProvider(d,(c=this.namespace.rpcMap)==null?void 0:c[i])}),r}getHttpProvider(){const r=`${this.name}:${this.chainId}`,i=this.httpProviders[r];if(typeof i>"u")throw new Error(`JSON-RPC provider for ${r} not found`);return i}setHttpProvider(r,i){const c=this.createHttpProvider(r,i);c&&(this.httpProviders[r]=c)}createHttpProvider(r,i){const c=i||$e(r,this.namespace,this.client.core.projectId);if(!c)throw new Error(`No RPC url provided for chainId: ${r}`);return new et(new tt(c,z("disableProviderPing")))}}class kv{constructor(r){this.name="cosmos",this.namespace=r.namespace,this.events=z("events"),this.client=z("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(r){this.namespace=Object.assign(this.namespace,r)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const r=this.namespace.chains[0];if(!r)throw new Error("ChainId not found");return r.split(":")[1]}request(r){return this.namespace.methods.includes(r.request.method)?this.client.request(r):this.getHttpProvider().request(r.request)}setDefaultChain(r,i){this.httpProviders[r]||this.setHttpProvider(r,i),this.chainId=r,this.events.emit(Ke.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const r=this.namespace.accounts;return r?[...new Set(r.filter(i=>i.split(":")[1]===this.chainId.toString()).map(i=>i.split(":")[2]))]:[]}createHttpProviders(){const r={};return this.namespace.chains.forEach(i=>{var c;const d=Ut(i);r[d]=this.createHttpProvider(d,(c=this.namespace.rpcMap)==null?void 0:c[i])}),r}getHttpProvider(){const r=`${this.name}:${this.chainId}`,i=this.httpProviders[r];if(typeof i>"u")throw new Error(`JSON-RPC provider for ${r} not found`);return i}setHttpProvider(r,i){const c=this.createHttpProvider(r,i);c&&(this.httpProviders[r]=c)}createHttpProvider(r,i){const c=i||$e(r,this.namespace,this.client.core.projectId);if(!c)throw new Error(`No RPC url provided for chainId: ${r}`);return new et(new tt(c,z("disableProviderPing")))}}class Vv{constructor(r){this.name="algorand",this.namespace=r.namespace,this.events=z("events"),this.client=z("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(r){this.namespace=Object.assign(this.namespace,r)}requestAccounts(){return this.getAccounts()}request(r){return this.namespace.methods.includes(r.request.method)?this.client.request(r):this.getHttpProvider().request(r.request)}setDefaultChain(r,i){if(!this.httpProviders[r]){const c=i||$e(`${this.name}:${r}`,this.namespace,this.client.core.projectId);if(!c)throw new Error(`No RPC url provided for chainId: ${r}`);this.setHttpProvider(r,c)}this.chainId=r,this.events.emit(Ke.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const r=this.namespace.chains[0];if(!r)throw new Error("ChainId not found");return r.split(":")[1]}getAccounts(){const r=this.namespace.accounts;return r?[...new Set(r.filter(i=>i.split(":")[1]===this.chainId.toString()).map(i=>i.split(":")[2]))]:[]}createHttpProviders(){const r={};return this.namespace.chains.forEach(i=>{var c;r[i]=this.createHttpProvider(i,(c=this.namespace.rpcMap)==null?void 0:c[i])}),r}getHttpProvider(){const r=`${this.name}:${this.chainId}`,i=this.httpProviders[r];if(typeof i>"u")throw new Error(`JSON-RPC provider for ${r} not found`);return i}setHttpProvider(r,i){const c=this.createHttpProvider(r,i);c&&(this.httpProviders[r]=c)}createHttpProvider(r,i){const c=i||$e(r,this.namespace,this.client.core.projectId);return typeof c>"u"?void 0:new et(new tt(c,z("disableProviderPing")))}}class e_{constructor(r){this.name="cip34",this.namespace=r.namespace,this.events=z("events"),this.client=z("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(r){this.namespace=Object.assign(this.namespace,r)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const r=this.namespace.chains[0];if(!r)throw new Error("ChainId not found");return r.split(":")[1]}request(r){return this.namespace.methods.includes(r.request.method)?this.client.request(r):this.getHttpProvider().request(r.request)}setDefaultChain(r,i){this.httpProviders[r]||this.setHttpProvider(r,i),this.chainId=r,this.events.emit(Ke.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const r=this.namespace.accounts;return r?[...new Set(r.filter(i=>i.split(":")[1]===this.chainId.toString()).map(i=>i.split(":")[2]))]:[]}createHttpProviders(){const r={};return this.namespace.chains.forEach(i=>{const c=this.getCardanoRPCUrl(i),d=Ut(i);r[d]=this.createHttpProvider(d,c)}),r}getHttpProvider(){const r=`${this.name}:${this.chainId}`,i=this.httpProviders[r];if(typeof i>"u")throw new Error(`JSON-RPC provider for ${r} not found`);return i}getCardanoRPCUrl(r){const i=this.namespace.rpcMap;if(i)return i[r]}setHttpProvider(r,i){const c=this.createHttpProvider(r,i);c&&(this.httpProviders[r]=c)}createHttpProvider(r,i){const c=i||this.getCardanoRPCUrl(r);if(!c)throw new Error(`No RPC url provided for chainId: ${r}`);return new et(new tt(c,z("disableProviderPing")))}}class t_{constructor(r){this.name="elrond",this.namespace=r.namespace,this.events=z("events"),this.client=z("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(r){this.namespace=Object.assign(this.namespace,r)}requestAccounts(){return this.getAccounts()}request(r){return this.namespace.methods.includes(r.request.method)?this.client.request(r):this.getHttpProvider().request(r.request)}setDefaultChain(r,i){this.httpProviders[r]||this.setHttpProvider(r,i),this.chainId=r,this.events.emit(Ke.DEFAULT_CHAIN_CHANGED,`${this.name}:${r}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const r=this.namespace.chains[0];if(!r)throw new Error("ChainId not found");return r.split(":")[1]}getAccounts(){const r=this.namespace.accounts;return r?[...new Set(r.filter(i=>i.split(":")[1]===this.chainId.toString()).map(i=>i.split(":")[2]))]:[]}createHttpProviders(){const r={};return this.namespace.chains.forEach(i=>{var c;const d=Ut(i);r[d]=this.createHttpProvider(d,(c=this.namespace.rpcMap)==null?void 0:c[i])}),r}getHttpProvider(){const r=`${this.name}:${this.chainId}`,i=this.httpProviders[r];if(typeof i>"u")throw new Error(`JSON-RPC provider for ${r} not found`);return i}setHttpProvider(r,i){const c=this.createHttpProvider(r,i);c&&(this.httpProviders[r]=c)}createHttpProvider(r,i){const c=i||$e(r,this.namespace,this.client.core.projectId);if(!c)throw new Error(`No RPC url provided for chainId: ${r}`);return new et(new tt(c,z("disableProviderPing")))}}class n_{constructor(r){this.name="multiversx",this.namespace=r.namespace,this.events=z("events"),this.client=z("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(r){this.namespace=Object.assign(this.namespace,r)}requestAccounts(){return this.getAccounts()}request(r){return this.namespace.methods.includes(r.request.method)?this.client.request(r):this.getHttpProvider().request(r.request)}setDefaultChain(r,i){this.httpProviders[r]||this.setHttpProvider(r,i),this.chainId=r,this.events.emit(Ke.DEFAULT_CHAIN_CHANGED,`${this.name}:${r}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const r=this.namespace.chains[0];if(!r)throw new Error("ChainId not found");return r.split(":")[1]}getAccounts(){const r=this.namespace.accounts;return r?[...new Set(r.filter(i=>i.split(":")[1]===this.chainId.toString()).map(i=>i.split(":")[2]))]:[]}createHttpProviders(){const r={};return this.namespace.chains.forEach(i=>{var c;const d=Ut(i);r[d]=this.createHttpProvider(d,(c=this.namespace.rpcMap)==null?void 0:c[i])}),r}getHttpProvider(){const r=`${this.name}:${this.chainId}`,i=this.httpProviders[r];if(typeof i>"u")throw new Error(`JSON-RPC provider for ${r} not found`);return i}setHttpProvider(r,i){const c=this.createHttpProvider(r,i);c&&(this.httpProviders[r]=c)}createHttpProvider(r,i){const c=i||$e(r,this.namespace,this.client.core.projectId);if(!c)throw new Error(`No RPC url provided for chainId: ${r}`);return new et(new tt(c,z("disableProviderPing")))}}class r_{constructor(r){this.name="near",this.namespace=r.namespace,this.events=z("events"),this.client=z("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(r){this.namespace=Object.assign(this.namespace,r)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const r=this.namespace.chains[0];if(!r)throw new Error("ChainId not found");return r.split(":")[1]}request(r){return this.namespace.methods.includes(r.request.method)?this.client.request(r):this.getHttpProvider().request(r.request)}setDefaultChain(r,i){if(this.chainId=r,!this.httpProviders[r]){const c=i||$e(`${this.name}:${r}`,this.namespace);if(!c)throw new Error(`No RPC url provided for chainId: ${r}`);this.setHttpProvider(r,c)}this.events.emit(Ke.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const r=this.namespace.accounts;return r?r.filter(i=>i.split(":")[1]===this.chainId.toString()).map(i=>i.split(":")[2])||[]:[]}createHttpProviders(){const r={};return this.namespace.chains.forEach(i=>{var c;r[i]=this.createHttpProvider(i,(c=this.namespace.rpcMap)==null?void 0:c[i])}),r}getHttpProvider(){const r=`${this.name}:${this.chainId}`,i=this.httpProviders[r];if(typeof i>"u")throw new Error(`JSON-RPC provider for ${r} not found`);return i}setHttpProvider(r,i){const c=this.createHttpProvider(r,i);c&&(this.httpProviders[r]=c)}createHttpProvider(r,i){const c=i||$e(r,this.namespace);return typeof c>"u"?void 0:new et(new tt(c,z("disableProviderPing")))}}class i_{constructor(r){this.name="tezos",this.namespace=r.namespace,this.events=z("events"),this.client=z("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(r){this.namespace=Object.assign(this.namespace,r)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const r=this.namespace.chains[0];if(!r)throw new Error("ChainId not found");return r.split(":")[1]}request(r){return this.namespace.methods.includes(r.request.method)?this.client.request(r):this.getHttpProvider().request(r.request)}setDefaultChain(r,i){if(this.chainId=r,!this.httpProviders[r]){const c=i||$e(`${this.name}:${r}`,this.namespace);if(!c)throw new Error(`No RPC url provided for chainId: ${r}`);this.setHttpProvider(r,c)}this.events.emit(Ke.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const r=this.namespace.accounts;return r?r.filter(i=>i.split(":")[1]===this.chainId.toString()).map(i=>i.split(":")[2])||[]:[]}createHttpProviders(){const r={};return this.namespace.chains.forEach(i=>{r[i]=this.createHttpProvider(i)}),r}getHttpProvider(){const r=`${this.name}:${this.chainId}`,i=this.httpProviders[r];if(typeof i>"u")throw new Error(`JSON-RPC provider for ${r} not found`);return i}setHttpProvider(r,i){const c=this.createHttpProvider(r,i);c&&(this.httpProviders[r]=c)}createHttpProvider(r,i){const c=i||$e(r,this.namespace);return typeof c>"u"?void 0:new et(new tt(c))}}class s_{constructor(r){this.name=nn,this.namespace=r.namespace,this.events=z("events"),this.client=z("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(r){this.namespace.chains=[...new Set((this.namespace.chains||[]).concat(r.chains||[]))],this.namespace.accounts=[...new Set((this.namespace.accounts||[]).concat(r.accounts||[]))],this.namespace.methods=[...new Set((this.namespace.methods||[]).concat(r.methods||[]))],this.namespace.events=[...new Set((this.namespace.events||[]).concat(r.events||[]))],this.httpProviders=this.createHttpProviders()}requestAccounts(){return this.getAccounts()}request(r){return this.namespace.methods.includes(r.request.method)?this.client.request(r):this.getHttpProvider(r.chainId).request(r.request)}setDefaultChain(r,i){this.httpProviders[r]||this.setHttpProvider(r,i),this.chainId=r,this.events.emit(Ke.DEFAULT_CHAIN_CHANGED,`${this.name}:${r}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const r=this.namespace.chains[0];if(!r)throw new Error("ChainId not found");return r.split(":")[1]}getAccounts(){const r=this.namespace.accounts;return r?[...new Set(r.filter(i=>i.split(":")[1]===this.chainId.toString()).map(i=>i.split(":")[2]))]:[]}createHttpProviders(){var r,i;const c={};return(i=(r=this.namespace)==null?void 0:r.accounts)==null||i.forEach(d=>{const C=vu(d);c[`${C.namespace}:${C.reference}`]=this.createHttpProvider(d)}),c}getHttpProvider(r){const i=this.httpProviders[r];if(typeof i>"u")throw new Error(`JSON-RPC provider for ${r} not found`);return i}setHttpProvider(r,i){const c=this.createHttpProvider(r,i);c&&(this.httpProviders[r]=c)}createHttpProvider(r,i){const c=i||$e(r,this.namespace,this.client.core.projectId);if(!c)throw new Error(`No RPC url provided for chainId: ${r}`);return new et(new tt(c,z("disableProviderPing")))}}var a_=Object.defineProperty,o_=Object.defineProperties,u_=Object.getOwnPropertyDescriptors,hu=Object.getOwnPropertySymbols,c_=Object.prototype.hasOwnProperty,h_=Object.prototype.propertyIsEnumerable,fu=(y,r,i)=>r in y?a_(y,r,{enumerable:!0,configurable:!0,writable:!0,value:i}):y[r]=i,xr=(y,r)=>{for(var i in r||(r={}))c_.call(r,i)&&fu(y,i,r[i]);if(hu)for(var i of hu(r))h_.call(r,i)&&fu(y,i,r[i]);return y},is=(y,r)=>o_(y,u_(r));let f_=class yu{constructor(r){this.events=new lv,this.rpcProviders={},this.shouldAbortPairingAttempt=!1,this.maxPairingAttempts=10,this.disableProviderPing=!1,this.providerOpts=r,this.logger=typeof(r==null?void 0:r.logger)<"u"&&typeof(r==null?void 0:r.logger)!="string"?r.logger:pv(dv({level:(r==null?void 0:r.logger)||eu})),this.disableProviderPing=(r==null?void 0:r.disableProviderPing)||!1}static async init(r){const i=new yu(r);return await i.initialize(),i}async request(r,i,c){const[d,C]=this.validateChain(i);if(!this.session)throw new Error("Please call connect() before request()");return await this.getProvider(d).request({request:xr({},r),chainId:`${d}:${C}`,topic:this.session.topic,expiry:c})}sendAsync(r,i,c,d){const C=new Date().getTime();this.request(r,c,d).then(I=>i(null,gv(C,I))).catch(I=>i(I,void 0))}async enable(){if(!this.client)throw new Error("Sign Client not initialized");return this.session||await this.connect({namespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties}),await this.requestAccounts()}async disconnect(){var r;if(!this.session)throw new Error("Please call connect() before enable()");await this.client.disconnect({topic:(r=this.session)==null?void 0:r.topic,reason:as("USER_DISCONNECTED")}),await this.cleanup()}async connect(r){if(!this.client)throw new Error("Sign Client not initialized");if(this.setNamespaces(r),await this.cleanupPendingPairings(),!r.skipPairing)return await this.pair(r.pairingTopic)}async authenticate(r,i){if(!this.client)throw new Error("Sign Client not initialized");this.setNamespaces(r),await this.cleanupPendingPairings();const{uri:c,response:d}=await this.client.authenticate(r,i);c&&(this.uri=c,this.events.emit("display_uri",c));const C=await d();if(this.session=C.session,this.session){const I=su(this.session.namespaces);this.namespaces=ts(this.namespaces,I),this.persist("namespaces",this.namespaces),this.onConnect()}return C}on(r,i){this.events.on(r,i)}once(r,i){this.events.once(r,i)}removeListener(r,i){this.events.removeListener(r,i)}off(r,i){this.events.off(r,i)}get isWalletConnect(){return!0}async pair(r){this.shouldAbortPairingAttempt=!1;let i=0;do{if(this.shouldAbortPairingAttempt)throw new Error("Pairing aborted");if(i>=this.maxPairingAttempts)throw new Error("Max auto pairing attempts reached");const{uri:c,approval:d}=await this.client.connect({pairingTopic:r,requiredNamespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties});c&&(this.uri=c,this.events.emit("display_uri",c)),await d().then(C=>{this.session=C;const I=su(C.namespaces);this.namespaces=ts(this.namespaces,I),this.persist("namespaces",this.namespaces)}).catch(C=>{if(C.message!==vv)throw C;i++})}while(!this.session);return this.onConnect(),this.session}setDefaultChain(r,i){try{if(!this.session)return;const[c,d]=this.validateChain(r),C=this.getProvider(c);C.name===nn?C.setDefaultChain(`${c}:${d}`,i):C.setDefaultChain(d,i)}catch(c){if(!/Please call connect/.test(c.message))throw c}}async cleanupPendingPairings(r={}){this.logger.info("Cleaning up inactive pairings...");const i=this.client.pairing.getAll();if(Rn(i)){for(const c of i)r.deletePairings?this.client.core.expirer.set(c.topic,0):await this.client.core.relayer.subscriber.unsubscribe(c.topic);this.logger.info(`Inactive pairings cleared: ${i.length}`)}}abortPairingAttempt(){this.shouldAbortPairingAttempt=!0}async checkStorage(){if(this.namespaces=await this.getFromStore("namespaces"),this.optionalNamespaces=await this.getFromStore("optionalNamespaces")||{},this.client.session.length){const r=this.client.session.keys.length-1;this.session=this.client.session.get(this.client.session.keys[r]),this.createProviders()}}async initialize(){this.logger.trace("Initialized"),await this.createClient(),await this.checkStorage(),this.registerEventListeners()}async createClient(){this.client=this.providerOpts.client||await _v.init({core:this.providerOpts.core,logger:this.providerOpts.logger||eu,relayUrl:this.providerOpts.relayUrl||Dv,projectId:this.providerOpts.projectId,metadata:this.providerOpts.metadata,storageOptions:this.providerOpts.storageOptions,storage:this.providerOpts.storage,name:this.providerOpts.name,customStoragePrefix:this.providerOpts.customStoragePrefix,telemetryEnabled:this.providerOpts.telemetryEnabled}),this.logger.trace("SignClient Initialized")}createProviders(){if(!this.client)throw new Error("Sign Client not initialized");if(!this.session)throw new Error("Session not initialized. Please call connect() before enable()");const r=[...new Set(Object.keys(this.session.namespaces).map(i=>On(i)))];rs("client",this.client),rs("events",this.events),rs("disableProviderPing",this.disableProviderPing),r.forEach(i=>{if(!this.session)return;const c=Wv(i,this.session),d=mu(c),C=ts(this.namespaces,this.optionalNamespaces),I=is(xr({},C[i]),{accounts:c,chains:d});switch(i){case"eip155":this.rpcProviders[i]=new Qv({namespace:I});break;case"algorand":this.rpcProviders[i]=new Vv({namespace:I});break;case"solana":this.rpcProviders[i]=new jv({namespace:I});break;case"cosmos":this.rpcProviders[i]=new kv({namespace:I});break;case"polkadot":this.rpcProviders[i]=new zv({namespace:I});break;case"cip34":this.rpcProviders[i]=new e_({namespace:I});break;case"elrond":this.rpcProviders[i]=new t_({namespace:I});break;case"multiversx":this.rpcProviders[i]=new n_({namespace:I});break;case"near":this.rpcProviders[i]=new r_({namespace:I});break;case"tezos":this.rpcProviders[i]=new i_({namespace:I});break;default:this.rpcProviders[nn]?this.rpcProviders[nn].updateNamespace(I):this.rpcProviders[nn]=new s_({namespace:I})}})}registerEventListeners(){if(typeof this.client>"u")throw new Error("Sign Client is not initialized");this.client.on("session_ping",r=>{this.events.emit("session_ping",r)}),this.client.on("session_event",r=>{const{params:i}=r,{event:c}=i;if(c.name==="accountsChanged"){const d=c.data;d&&Rn(d)&&this.events.emit("accountsChanged",d.map(Gv))}else if(c.name==="chainChanged"){const d=i.chainId,C=i.event.data,I=On(d),O=ns(d)!==ns(C)?`${I}:${ns(C)}`:d;this.onChainChanged(O)}else this.events.emit(c.name,c.data);this.events.emit("session_event",r)}),this.client.on("session_update",({topic:r,params:i})=>{var c;const{namespaces:d}=i,C=(c=this.client)==null?void 0:c.session.get(r);this.session=is(xr({},C),{namespaces:d}),this.onSessionUpdate(),this.events.emit("session_update",{topic:r,params:i})}),this.client.on("session_delete",async r=>{await this.cleanup(),this.events.emit("session_delete",r),this.events.emit("disconnect",is(xr({},as("USER_DISCONNECTED")),{data:r.topic}))}),this.on(Ke.DEFAULT_CHAIN_CHANGED,r=>{this.onChainChanged(r,!0)})}getProvider(r){return this.rpcProviders[r]||this.rpcProviders[nn]}onSessionUpdate(){Object.keys(this.rpcProviders).forEach(r=>{var i;this.getProvider(r).updateNamespace((i=this.session)==null?void 0:i.namespaces[r])})}setNamespaces(r){const{namespaces:i,optionalNamespaces:c,sessionProperties:d}=r;i&&Object.keys(i).length&&(this.namespaces=i),c&&Object.keys(c).length&&(this.optionalNamespaces=c),this.sessionProperties=d,this.persist("namespaces",i),this.persist("optionalNamespaces",c)}validateChain(r){const[i,c]=(r==null?void 0:r.split(":"))||["",""];if(!this.namespaces||!Object.keys(this.namespaces).length)return[i,c];if(i&&!Object.keys(this.namespaces||{}).map(I=>On(I)).includes(i))throw new Error(`Namespace '${i}' is not configured. Please call connect() first with namespace config.`);if(i&&c)return[i,c];const d=On(Object.keys(this.namespaces)[0]),C=this.rpcProviders[d].getDefaultChain();return[d,C]}async requestAccounts(){const[r]=this.validateChain();return await this.getProvider(r).requestAccounts()}onChainChanged(r,i=!1){if(!this.namespaces)return;const[c,d]=this.validateChain(r);d&&(i||this.getProvider(c).setDefaultChain(d),this.namespaces[c]?this.namespaces[c].defaultChain=d:this.namespaces[`${c}:${d}`]?this.namespaces[`${c}:${d}`].defaultChain=d:this.namespaces[`${c}:${d}`]={defaultChain:d},this.persist("namespaces",this.namespaces),this.events.emit("chainChanged",d))}onConnect(){this.createProviders(),this.events.emit("connect",{session:this.session})}async cleanup(){this.session=void 0,this.namespaces=void 0,this.optionalNamespaces=void 0,this.sessionProperties=void 0,this.persist("namespaces",void 0),this.persist("optionalNamespaces",void 0),this.persist("sessionProperties",void 0),await this.cleanupPendingPairings({deletePairings:!0})}persist(r,i){this.client.core.storage.setItem(`${tu}/${r}`,i)}async getFromStore(r){return await this.client.core.storage.getItem(`${tu}/${r}`)}};const l_=f_,p_="wc",d_="ethereum_provider",g_=`${p_}@2:${d_}:`,v_="https://rpc.walletconnect.org/v1/",os=["eth_sendTransaction","personal_sign"],__=["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_sendCalls","wallet_getCapabilities","wallet_getCallsStatus","wallet_showCallsStatus"],us=["chainChanged","accountsChanged"],m_=["chainChanged","accountsChanged","message","disconnect","connect"];var w_=Object.defineProperty,y_=Object.defineProperties,P_=Object.getOwnPropertyDescriptors,lu=Object.getOwnPropertySymbols,C_=Object.prototype.hasOwnProperty,A_=Object.prototype.propertyIsEnumerable,pu=(y,r,i)=>r in y?w_(y,r,{enumerable:!0,configurable:!0,writable:!0,value:i}):y[r]=i,rn=(y,r)=>{for(var i in r||(r={}))C_.call(r,i)&&pu(y,i,r[i]);if(lu)for(var i of lu(r))A_.call(r,i)&&pu(y,i,r[i]);return y},ss=(y,r)=>y_(y,P_(r));function Sr(y){return Number(y[0].split(":")[1])}function Or(y){return`0x${y.toString(16)}`}function I_(y){const{chains:r,optionalChains:i,methods:c,optionalMethods:d,events:C,optionalEvents:I,rpcMap:O}=y;if(!Rn(r))throw new Error("Invalid chains");const L={chains:r,methods:c||os,events:C||us,rpcMap:rn({},r.length?{[Sr(r)]:O[Sr(r)]}:{})},ne=C==null?void 0:C.filter(ce=>!us.includes(ce)),pe=c==null?void 0:c.filter(ce=>!os.includes(ce));if(!i&&!I&&!d&&!(ne!=null&&ne.length)&&!(pe!=null&&pe.length))return{required:r.length?L:void 0};const de=(ne==null?void 0:ne.length)&&(pe==null?void 0:pe.length)||!i,se={chains:[...new Set(de?L.chains.concat(i||[]):i)],methods:[...new Set(L.methods.concat(d!=null&&d.length?d:__))],events:[...new Set(L.events.concat(I!=null&&I.length?I:m_))],rpcMap:O};return{required:r.length?L:void 0,optional:i.length?se:void 0}}class cs{constructor(){this.events=new du.EventEmitter,this.namespace="eip155",this.accounts=[],this.chainId=1,this.STORAGE_KEY=g_,this.on=(r,i)=>(this.events.on(r,i),this),this.once=(r,i)=>(this.events.once(r,i),this),this.removeListener=(r,i)=>(this.events.removeListener(r,i),this),this.off=(r,i)=>(this.events.off(r,i),this),this.parseAccount=r=>this.isCompatibleChainId(r)?this.parseAccountId(r).address:r,this.signer={},this.rpc={}}static async init(r){const i=new cs;return await i.initialize(r),i}async request(r,i){return await this.signer.request(r,this.formatChainId(this.chainId),i)}sendAsync(r,i,c){this.signer.sendAsync(r,i,this.formatChainId(this.chainId),c)}get connected(){return this.signer.client?this.signer.client.core.relayer.connected:!1}get connecting(){return this.signer.client?this.signer.client.core.relayer.connecting:!1}async enable(){return this.session||await this.connect(),await this.request({method:"eth_requestAccounts"})}async connect(r){if(!this.signer.client)throw new Error("Provider not initialized. Call init() first");this.loadConnectOpts(r);const{required:i,optional:c}=I_(this.rpc);try{const d=await new Promise(async(I,O)=>{var L;this.rpc.showQrModal&&((L=this.modal)==null||L.subscribeModal(ne=>{!ne.open&&!this.signer.session&&(this.signer.abortPairingAttempt(),O(new Error("Connection request reset. Please try again.")))})),await this.signer.connect(ss(rn({namespaces:rn({},i&&{[this.namespace]:i})},c&&{optionalNamespaces:{[this.namespace]:c}}),{pairingTopic:r==null?void 0:r.pairingTopic})).then(ne=>{I(ne)}).catch(ne=>{O(new Error(ne.message))})});if(!d)return;const C=zo(d.namespaces,[this.namespace]);this.setChainIds(this.rpc.chains.length?this.rpc.chains:C),this.setAccounts(C),this.events.emit("connect",{chainId:Or(this.chainId)})}catch(d){throw this.signer.logger.error(d),d}finally{this.modal&&this.modal.closeModal()}}async authenticate(r,i){if(!this.signer.client)throw new Error("Provider not initialized. Call init() first");this.loadConnectOpts({chains:r==null?void 0:r.chains});try{const c=await new Promise(async(C,I)=>{var O;this.rpc.showQrModal&&((O=this.modal)==null||O.subscribeModal(L=>{!L.open&&!this.signer.session&&(this.signer.abortPairingAttempt(),I(new Error("Connection request reset. Please try again.")))})),await this.signer.authenticate(ss(rn({},r),{chains:this.rpc.chains}),i).then(L=>{C(L)}).catch(L=>{I(new Error(L.message))})}),d=c.session;if(d){const C=zo(d.namespaces,[this.namespace]);this.setChainIds(this.rpc.chains.length?this.rpc.chains:C),this.setAccounts(C),this.events.emit("connect",{chainId:Or(this.chainId)})}return c}catch(c){throw this.signer.logger.error(c),c}finally{this.modal&&this.modal.closeModal()}}async disconnect(){this.session&&await this.signer.disconnect(),this.reset()}get isWalletConnect(){return!0}get session(){return this.signer.session}registerEventListeners(){this.signer.on("session_event",r=>{const{params:i}=r,{event:c}=i;c.name==="accountsChanged"?(this.accounts=this.parseAccounts(c.data),this.events.emit("accountsChanged",this.accounts)):c.name==="chainChanged"?this.setChainId(this.formatChainId(c.data)):this.events.emit(c.name,c.data),this.events.emit("session_event",r)}),this.signer.on("chainChanged",r=>{const i=parseInt(r);this.chainId=i,this.events.emit("chainChanged",Or(this.chainId)),this.persist()}),this.signer.on("session_update",r=>{this.events.emit("session_update",r)}),this.signer.on("session_delete",r=>{this.reset(),this.events.emit("session_delete",r),this.events.emit("disconnect",ss(rn({},as("USER_DISCONNECTED")),{data:r.topic,name:"USER_DISCONNECTED"}))}),this.signer.on("display_uri",r=>{var i,c;this.rpc.showQrModal&&((i=this.modal)==null||i.closeModal(),(c=this.modal)==null||c.openModal({uri:r})),this.events.emit("display_uri",r)})}switchEthereumChain(r){this.request({method:"wallet_switchEthereumChain",params:[{chainId:r.toString(16)}]})}isCompatibleChainId(r){return typeof r=="string"?r.startsWith(`${this.namespace}:`):!1}formatChainId(r){return`${this.namespace}:${r}`}parseChainId(r){return Number(r.split(":")[1])}setChainIds(r){const i=r.filter(c=>this.isCompatibleChainId(c)).map(c=>this.parseChainId(c));i.length&&(this.chainId=i[0],this.events.emit("chainChanged",Or(this.chainId)),this.persist())}setChainId(r){if(this.isCompatibleChainId(r)){const i=this.parseChainId(r);this.chainId=i,this.switchEthereumChain(i)}}parseAccountId(r){const[i,c,d]=r.split(":");return{chainId:`${i}:${c}`,address:d}}setAccounts(r){this.accounts=r.filter(i=>this.parseChainId(this.parseAccountId(i).chainId)===this.chainId).map(i=>this.parseAccountId(i).address),this.events.emit("accountsChanged",this.accounts)}getRpcConfig(r){var i,c;const d=(i=r==null?void 0:r.chains)!=null?i:[],C=(c=r==null?void 0:r.optionalChains)!=null?c:[],I=d.concat(C);if(!I.length)throw new Error("No chains specified in either `chains` or `optionalChains`");const O=d.length?(r==null?void 0:r.methods)||os:[],L=d.length?(r==null?void 0:r.events)||us:[],ne=(r==null?void 0:r.optionalMethods)||[],pe=(r==null?void 0:r.optionalEvents)||[],de=(r==null?void 0:r.rpcMap)||this.buildRpcMap(I,r.projectId),se=(r==null?void 0:r.qrModalOptions)||void 0;return{chains:d==null?void 0:d.map(ce=>this.formatChainId(ce)),optionalChains:C.map(ce=>this.formatChainId(ce)),methods:O,events:L,optionalMethods:ne,optionalEvents:pe,rpcMap:de,showQrModal:!!(r!=null&&r.showQrModal),qrModalOptions:se,projectId:r.projectId,metadata:r.metadata}}buildRpcMap(r,i){const c={};return r.forEach(d=>{c[d]=this.getRpcUrl(d,i)}),c}async initialize(r){if(this.rpc=this.getRpcConfig(r),this.chainId=this.rpc.chains.length?Sr(this.rpc.chains):Sr(this.rpc.optionalChains),this.signer=await l_.init({projectId:this.rpc.projectId,metadata:this.rpc.metadata,disableProviderPing:r.disableProviderPing,relayUrl:r.relayUrl,storageOptions:r.storageOptions,customStoragePrefix:r.customStoragePrefix,telemetryEnabled:r.telemetryEnabled,logger:r.logger}),this.registerEventListeners(),await this.loadPersistedSession(),this.rpc.showQrModal){let i;try{const{WalletConnectModal:c}=await uv(()=>import("./index-B9PYo1R2.js").then(d=>d.i),__vite__mapDeps([0,1,2]));i=c}catch{throw new Error("To use QR modal, please install @walletconnect/modal package")}if(i)try{this.modal=new i(rn({projectId:this.rpc.projectId},this.rpc.qrModalOptions))}catch(c){throw this.signer.logger.error(c),new Error("Could not generate WalletConnectModal Instance")}}}loadConnectOpts(r){if(!r)return;const{chains:i,optionalChains:c,rpcMap:d}=r;i&&Rn(i)&&(this.rpc.chains=i.map(C=>this.formatChainId(C)),i.forEach(C=>{this.rpc.rpcMap[C]=(d==null?void 0:d[C])||this.getRpcUrl(C)})),c&&Rn(c)&&(this.rpc.optionalChains=[],this.rpc.optionalChains=c==null?void 0:c.map(C=>this.formatChainId(C)),c.forEach(C=>{this.rpc.rpcMap[C]=(d==null?void 0:d[C])||this.getRpcUrl(C)}))}getRpcUrl(r,i){var c;return((c=this.rpc.rpcMap)==null?void 0:c[r])||`${v_}?chainId=eip155:${r}&projectId=${i||this.rpc.projectId}`}async loadPersistedSession(){if(this.session)try{const r=await this.signer.client.core.storage.getItem(`${this.STORAGE_KEY}/chainId`),i=this.session.namespaces[`${this.namespace}:${r}`]?this.session.namespaces[`${this.namespace}:${r}`]:this.session.namespaces[this.namespace];this.setChainIds(r?[this.formatChainId(r)]:i==null?void 0:i.accounts),this.setAccounts(i==null?void 0:i.accounts)}catch(r){this.signer.logger.error("Failed to load persisted session, clearing state..."),this.signer.logger.error(r),await this.disconnect().catch(i=>this.signer.logger.warn(i))}}reset(){this.chainId=1,this.accounts=[]}persist(){this.session&&this.signer.client.core.storage.setItem(`${this.STORAGE_KEY}/chainId`,this.chainId)}parseAccounts(r){return typeof r=="string"||r instanceof String?[this.parseAccount(r)]:r.map(i=>this.parseAccount(i))}}const O_=cs;export{O_ as EthereumProvider,m_ as OPTIONAL_EVENTS,__ as OPTIONAL_METHODS,us as REQUIRED_EVENTS,os as REQUIRED_METHODS,cs as default};

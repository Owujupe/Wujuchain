const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-DDy2upWU.js","assets/index-fFHDa7eL.js","assets/index-DZ0fb_Ol.css","assets/approve-Bn_YheWJ.js","assets/addresses-DVWfx5EX.js","assets/send-eip712-transaction-BbKIVnJp.js","assets/eth_sendRawTransaction-DPdnXbFR.js","assets/concat-hex-B7nHc2Z0.js","assets/random-C8YfkVtD.js"])))=>i.map(i=>d[i]);
import{aP as m,_ as w}from"./index-fFHDa7eL.js";import{s as e}from"./types-DlKe2M91.js";function _(n){return n.id==="inApp"||n.id==="embedded"}async function s(n,u,c){var h,i,d,l;if(((h=u==null?void 0:u.auth)==null?void 0:h.mode)!=="popup"&&((i=u==null?void 0:u.auth)==null?void 0:i.mode)!==void 0&&c.authenticateWithRedirect){const A=n.strategy;e.includes(A)&&await c.authenticateWithRedirect(A,(d=u==null?void 0:u.auth)==null?void 0:d.mode,(l=u==null?void 0:u.auth)==null?void 0:l.redirectUrl)}const t=(await c.connect(n)).user.account;if(u&&"smartAccount"in u&&(u!=null&&u.smartAccount)){const[A,f]=await r({client:n.client,authAccount:t,smartAccountOptions:u.smartAccount,chain:n.chain});return{account:A,chain:f,adminAccount:t}}return{account:t,chain:n.chain||m}}async function y(n,u,c){n.authResult&&c.loginWithAuthToken&&await c.loginWithAuthToken(n.authResult);const a=await g(c);if(!a)throw new Error("Failed to authenticate user.");const t=a.account;if(u&&"smartAccount"in u&&(u!=null&&u.smartAccount)){const[h,i]=await r({client:n.client,authAccount:t,smartAccountOptions:u.smartAccount,chain:n.chain});return{account:h,chain:i,adminAccount:t}}return{account:t,chain:n.chain||m}}async function r(n){const{connectSmartAccount:u}=await w(async()=>{const{connectSmartAccount:c}=await import("./index-DDy2upWU.js").then(a=>a.i);return{connectSmartAccount:c}},__vite__mapDeps([0,1,2,3,4,5,6,7,8]));return u({client:n.client,personalAccount:n.authAccount,chain:n.chain},n.smartAccountOptions)}async function g(n){const u=await n.getUser();switch(u.status){case"Logged In, Wallet Initialized":return u}}export{y as autoConnectInAppWallet,s as connectInAppWallet,_ as isInAppWallet};
